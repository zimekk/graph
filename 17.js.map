{"version":3,"file":"17.js","mappings":"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","sources":["webpack://@dev/web/../../node_modules/debounce/index.js","webpack://@dev/web/../../node_modules/fromentries/index.js","webpack://@dev/web/../../node_modules/lodash.throttle/index.js","webpack://@dev/web/../../node_modules/prop-types/factoryWithThrowingShims.js","webpack://@dev/web/../../node_modules/prop-types/index.js","webpack://@dev/web/../../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://@dev/web/../../node_modules/jerrypick/dist/jerrypick.module.js","webpack://@dev/web/../../node_modules/react-kapsule/dist/react-kapsule.module.js","webpack://@dev/web/../../node_modules/d3-drag/src/constant.js","webpack://@dev/web/../../node_modules/d3-drag/src/event.js","webpack://@dev/web/../../node_modules/d3-drag/src/drag.js","webpack://@dev/web/../../node_modules/d3-array/src/min.js","webpack://@dev/web/../../node_modules/d3-array/src/max.js","webpack://@dev/web/../../node_modules/@tweenjs/tween.js/dist/tween.esm.js","webpack://@dev/web/../../node_modules/kapsule/dist/kapsule.module.js","webpack://@dev/web/../../node_modules/accessor-fn/dist/accessor-fn.module.js","webpack://@dev/web/../../node_modules/canvas-color-tracker/dist/canvas-color-tracker.module.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/lcg.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/simulation.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/constant.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/jiggle.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/link.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/add.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/half.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/x.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/binarytree.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/add.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/quad.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/x.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/y.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/quadtree.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/cover.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/data.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/extent.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/find.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/remove.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/root.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/size.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/visit.js","webpack://@dev/web/../../node_modules/d3-binarytree/src/visitAfter.js","webpack://@dev/web/../../node_modules/d3-octree/src/add.js","webpack://@dev/web/../../node_modules/d3-octree/src/octant.js","webpack://@dev/web/../../node_modules/d3-octree/src/x.js","webpack://@dev/web/../../node_modules/d3-octree/src/y.js","webpack://@dev/web/../../node_modules/d3-octree/src/z.js","webpack://@dev/web/../../node_modules/d3-octree/src/octree.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/cover.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/data.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/extent.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/find.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/remove.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/root.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/size.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/visit.js","webpack://@dev/web/../../node_modules/d3-quadtree/src/visitAfter.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/manyBody.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/center.js","webpack://@dev/web/../../node_modules/d3-octree/src/cover.js","webpack://@dev/web/../../node_modules/d3-octree/src/data.js","webpack://@dev/web/../../node_modules/d3-octree/src/extent.js","webpack://@dev/web/../../node_modules/d3-octree/src/find.js","webpack://@dev/web/../../node_modules/d3-octree/src/remove.js","webpack://@dev/web/../../node_modules/d3-octree/src/root.js","webpack://@dev/web/../../node_modules/d3-octree/src/size.js","webpack://@dev/web/../../node_modules/d3-octree/src/visit.js","webpack://@dev/web/../../node_modules/d3-octree/src/visitAfter.js","webpack://@dev/web/../../node_modules/bezier-js/src/utils.js","webpack://@dev/web/../../node_modules/bezier-js/src/poly-bezier.js","webpack://@dev/web/../../node_modules/bezier-js/src/bezier.js","webpack://@dev/web/../../node_modules/index-array-by/dist/index-array-by.module.js","webpack://@dev/web/../../node_modules/internmap/src/index.js","webpack://@dev/web/../../node_modules/d3-scale/src/init.js","webpack://@dev/web/../../node_modules/d3-scale/src/ordinal.js","webpack://@dev/web/../../node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://@dev/web/../../node_modules/d3-scale-chromatic/src/colors.js","webpack://@dev/web/../../node_modules/force-graph/dist/force-graph.module.js","webpack://@dev/web/../../node_modules/d3-force-3d/src/radial.js","webpack://@dev/web/../../node_modules/react-force-graph-2d/dist/react-force-graph-2d.module.js","webpack://@dev/web/../../node_modules/tinycolor2/tinycolor.js","webpack://@dev/web/../../node_modules/d3-dispatch/src/dispatch.js","webpack://@dev/web/../../node_modules/d3-drag/src/nodrag.js","webpack://@dev/web/../../node_modules/d3-drag/src/noevent.js","webpack://@dev/web/../../node_modules/d3-selection/src/matcher.js","webpack://@dev/web/../../node_modules/d3-selection/src/namespace.js","webpack://@dev/web/../../node_modules/d3-selection/src/namespaces.js","webpack://@dev/web/../../node_modules/d3-selection/src/pointer.js","webpack://@dev/web/../../node_modules/d3-selection/src/sourceEvent.js","webpack://@dev/web/../../node_modules/d3-selection/src/select.js","webpack://@dev/web/../../node_modules/d3-selection/src/array.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/selectChild.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/selectChildren.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/sparse.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/enter.js","webpack://@dev/web/../../node_modules/d3-selection/src/constant.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/data.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/sort.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/attr.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/property.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/classed.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/text.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/html.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/raise.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/lower.js","webpack://@dev/web/../../node_modules/d3-selection/src/creator.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/insert.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/remove.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/clone.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/on.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/dispatch.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/index.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/select.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/selectAll.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/filter.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/exit.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/join.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/merge.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/order.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/call.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/nodes.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/node.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/size.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/empty.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/each.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/append.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/datum.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/iterator.js","webpack://@dev/web/../../node_modules/d3-selection/src/selection/style.js","webpack://@dev/web/../../node_modules/d3-selection/src/selector.js","webpack://@dev/web/../../node_modules/d3-selection/src/selectorAll.js","webpack://@dev/web/../../node_modules/d3-selection/src/window.js","webpack://@dev/web/../../node_modules/d3-timer/src/timer.js","webpack://@dev/web/../../node_modules/d3-timer/src/timeout.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/schedule.js","webpack://@dev/web/../../node_modules/d3-transition/src/interrupt.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/number.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/transform/decompose.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/transform/parse.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/transform/index.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/tween.js","webpack://@dev/web/../../node_modules/d3-color/src/define.js","webpack://@dev/web/../../node_modules/d3-color/src/color.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/basis.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/constant.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/color.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/rgb.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/basisClosed.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/string.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/interpolate.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/attr.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/attrTween.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/delay.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/duration.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/ease.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/on.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/selection.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/style.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/styleTween.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/textTween.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/index.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/select.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/selectAll.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/filter.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/merge.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/transition.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/text.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/remove.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/easeVarying.js","webpack://@dev/web/../../node_modules/d3-transition/src/transition/end.js","webpack://@dev/web/../../node_modules/d3-transition/src/selection/transition.js","webpack://@dev/web/../../node_modules/d3-ease/src/cubic.js","webpack://@dev/web/../../node_modules/d3-transition/src/selection/index.js","webpack://@dev/web/../../node_modules/d3-transition/src/selection/interrupt.js","webpack://@dev/web/../../node_modules/d3-interpolate/src/zoom.js","webpack://@dev/web/../../node_modules/d3-zoom/src/constant.js","webpack://@dev/web/../../node_modules/d3-zoom/src/event.js","webpack://@dev/web/../../node_modules/d3-zoom/src/transform.js","webpack://@dev/web/../../node_modules/d3-zoom/src/noevent.js","webpack://@dev/web/../../node_modules/d3-zoom/src/zoom.js","webpack://@dev/web/../../node_modules/d3-brush/src/brush.js"],"sourcesContent":["/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = function fromEntries (iterable) {\n  return [...iterable].reduce((obj, [key, val]) => {\n    obj[key] = val\n    return obj\n  }, {})\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar pluck = function pluck(obj, keys) {\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(keys.map(function (key) {\n    return _defineProperty({}, key, obj[key]);\n  }))));\n};\n\nvar omit = function omit(obj, keys) {\n  var keySet = new Set(keys);\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(obj).filter(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 1),\n        key = _ref3[0];\n\n    return !keySet.has(key);\n  }).map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        key = _ref5[0],\n        val = _ref5[1];\n\n    return _defineProperty({}, key, val);\n  }))));\n};\n\nexport { omit, pluck };\n","import React, { forwardRef, useRef, useState, useEffect, useMemo, useLayoutEffect, useCallback, useImperativeHandle } from 'react';\nimport { omit } from 'jerrypick';\nimport fromEntries from 'fromentries';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction index (kapsuleComponent, comboParam) {\n  var _ref = _typeof(comboParam) === 'object' ? comboParam : {\n    // support old schema for backwards compatibility\n    wrapperElementType: comboParam,\n    methodNames: (arguments.length <= 2 ? undefined : arguments[2]) || undefined,\n    initPropNames: (arguments.length <= 3 ? undefined : arguments[3]) || undefined\n  },\n      _ref$wrapperElementTy = _ref.wrapperElementType,\n      wrapperElementType = _ref$wrapperElementTy === void 0 ? 'div' : _ref$wrapperElementTy,\n      _ref$nodeMapper = _ref.nodeMapper,\n      nodeMapper = _ref$nodeMapper === void 0 ? function (node) {\n    return node;\n  } : _ref$nodeMapper,\n      _ref$methodNames = _ref.methodNames,\n      methodNames = _ref$methodNames === void 0 ? [] : _ref$methodNames,\n      _ref$initPropNames = _ref.initPropNames,\n      initPropNames = _ref$initPropNames === void 0 ? [] : _ref$initPropNames;\n\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    var domEl = useRef();\n\n    var _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        prevProps = _useState2[0],\n        setPrevProps = _useState2[1];\n\n    useEffect(function () {\n      return setPrevProps(props);\n    }); // remember previous props\n    // instantiate the inner kapsule component with the defined initPropNames\n\n    var comp = useMemo(function () {\n      var configOptions = fromEntries(initPropNames.filter(function (p) {\n        return props.hasOwnProperty(p);\n      }).map(function (prop) {\n        return [prop, props[prop]];\n      }));\n      return kapsuleComponent(configOptions);\n    }, []);\n    useLayoutEffect(function () {\n      comp(nodeMapper(domEl.current)); // mount kapsule synchronously on this element ref, optionally mapped into an object that the kapsule understands\n    }, []);\n    useEffect(function () {\n      // invoke destructor on unmount, if it exists\n      return comp._destructor instanceof Function ? comp._destructor : undefined;\n    }, []); // Call a component method\n\n    var _call = useCallback(function (method) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return comp[method] instanceof Function ? comp[method].apply(comp, args) : undefined;\n    } // method not found\n    , [comp]); // propagate component props that have changed\n\n\n    var dynamicProps = omit(props, [].concat(_toConsumableArray(methodNames), _toConsumableArray(initPropNames))); // initPropNames or methodNames should not be called\n\n    Object.keys(dynamicProps).filter(function (p) {\n      return prevProps[p] !== props[p];\n    }).forEach(function (p) {\n      return _call(p, props[p]);\n    }); // bind external methods to parent ref\n\n    useImperativeHandle(ref, function () {\n      return fromEntries(methodNames.map(function (method) {\n        return [method, function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return _call.apply(void 0, [method].concat(args));\n        }];\n      }));\n    });\n    return /*#__PURE__*/React.createElement(wrapperElementType, {\n      ref: domEl\n    });\n  });\n}\n\nexport default index;\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","/**\n * The Ease class provides a collection of easing functions for use with tween.js.\n */\nvar Easing = {\n    Linear: {\n        None: function (amount) {\n            return amount;\n        },\n    },\n    Quadratic: {\n        In: function (amount) {\n            return amount * amount;\n        },\n        Out: function (amount) {\n            return amount * (2 - amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount;\n            }\n            return -0.5 * (--amount * (amount - 2) - 1);\n        },\n    },\n    Cubic: {\n        In: function (amount) {\n            return amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount + 2);\n        },\n    },\n    Quartic: {\n        In: function (amount) {\n            return amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return 1 - --amount * amount * amount * amount;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount;\n            }\n            return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n        },\n    },\n    Quintic: {\n        In: function (amount) {\n            return amount * amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n        },\n    },\n    Sinusoidal: {\n        In: function (amount) {\n            return 1 - Math.cos((amount * Math.PI) / 2);\n        },\n        Out: function (amount) {\n            return Math.sin((amount * Math.PI) / 2);\n        },\n        InOut: function (amount) {\n            return 0.5 * (1 - Math.cos(Math.PI * amount));\n        },\n    },\n    Exponential: {\n        In: function (amount) {\n            return amount === 0 ? 0 : Math.pow(1024, amount - 1);\n        },\n        Out: function (amount) {\n            return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            if ((amount *= 2) < 1) {\n                return 0.5 * Math.pow(1024, amount - 1);\n            }\n            return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n        },\n    },\n    Circular: {\n        In: function (amount) {\n            return 1 - Math.sqrt(1 - amount * amount);\n        },\n        Out: function (amount) {\n            return Math.sqrt(1 - --amount * amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n        },\n    },\n    Elastic: {\n        In: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n        },\n        Out: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            amount *= 2;\n            if (amount < 1) {\n                return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n            }\n            return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n        },\n    },\n    Back: {\n        In: function (amount) {\n            var s = 1.70158;\n            return amount * amount * ((s + 1) * amount - s);\n        },\n        Out: function (amount) {\n            var s = 1.70158;\n            return --amount * amount * ((s + 1) * amount + s) + 1;\n        },\n        InOut: function (amount) {\n            var s = 1.70158 * 1.525;\n            if ((amount *= 2) < 1) {\n                return 0.5 * (amount * amount * ((s + 1) * amount - s));\n            }\n            return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n        },\n    },\n    Bounce: {\n        In: function (amount) {\n            return 1 - Easing.Bounce.Out(1 - amount);\n        },\n        Out: function (amount) {\n            if (amount < 1 / 2.75) {\n                return 7.5625 * amount * amount;\n            }\n            else if (amount < 2 / 2.75) {\n                return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n            }\n            else if (amount < 2.5 / 2.75) {\n                return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n            }\n            else {\n                return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n            }\n        },\n        InOut: function (amount) {\n            if (amount < 0.5) {\n                return Easing.Bounce.In(amount * 2) * 0.5;\n            }\n            return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n        },\n    },\n};\n\nvar now;\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\n// eslint-disable-next-line\n// @ts-ignore\nif (typeof self === 'undefined' && typeof process !== 'undefined' && process.hrtime) {\n    now = function () {\n        // eslint-disable-next-line\n        // @ts-ignore\n        var time = process.hrtime();\n        // Convert [seconds, nanoseconds] to milliseconds.\n        return time[0] * 1000 + time[1] / 1000000;\n    };\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof self !== 'undefined' && self.performance !== undefined && self.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n    now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n    now = function () {\n        return new Date().getTime();\n    };\n}\nvar now$1 = now;\n\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tween\n */\nvar Group = /** @class */ (function () {\n    function Group() {\n        this._tweens = {};\n        this._tweensAddedDuringUpdate = {};\n    }\n    Group.prototype.getAll = function () {\n        var _this = this;\n        return Object.keys(this._tweens).map(function (tweenId) {\n            return _this._tweens[tweenId];\n        });\n    };\n    Group.prototype.removeAll = function () {\n        this._tweens = {};\n    };\n    Group.prototype.add = function (tween) {\n        this._tweens[tween.getId()] = tween;\n        this._tweensAddedDuringUpdate[tween.getId()] = tween;\n    };\n    Group.prototype.remove = function (tween) {\n        delete this._tweens[tween.getId()];\n        delete this._tweensAddedDuringUpdate[tween.getId()];\n    };\n    Group.prototype.update = function (time, preserve) {\n        if (time === void 0) { time = now$1(); }\n        if (preserve === void 0) { preserve = false; }\n        var tweenIds = Object.keys(this._tweens);\n        if (tweenIds.length === 0) {\n            return false;\n        }\n        // Tweens are updated in \"batches\". If you add a new tween during an\n        // update, then the new tween will be updated in the next batch.\n        // If you remove a tween during an update, it may or may not be updated.\n        // However, if the removed tween was added during the current batch,\n        // then it will not be updated.\n        while (tweenIds.length > 0) {\n            this._tweensAddedDuringUpdate = {};\n            for (var i = 0; i < tweenIds.length; i++) {\n                var tween = this._tweens[tweenIds[i]];\n                var autoStart = !preserve;\n                if (tween && tween.update(time, autoStart) === false && !preserve) {\n                    delete this._tweens[tweenIds[i]];\n                }\n            }\n            tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n        }\n        return true;\n    };\n    return Group;\n}());\n\n/**\n *\n */\nvar Interpolation = {\n    Linear: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.Linear;\n        if (k < 0) {\n            return fn(v[0], v[1], f);\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f);\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n    },\n    Bezier: function (v, k) {\n        var b = 0;\n        var n = v.length - 1;\n        var pw = Math.pow;\n        var bn = Interpolation.Utils.Bernstein;\n        for (var i = 0; i <= n; i++) {\n            b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n        }\n        return b;\n    },\n    CatmullRom: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.CatmullRom;\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)));\n            }\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n        }\n        else {\n            if (k < 0) {\n                return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n            }\n            if (k > 1) {\n                return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n            }\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n        }\n    },\n    Utils: {\n        Linear: function (p0, p1, t) {\n            return (p1 - p0) * t + p0;\n        },\n        Bernstein: function (n, i) {\n            var fc = Interpolation.Utils.Factorial;\n            return fc(n) / fc(i) / fc(n - i);\n        },\n        Factorial: (function () {\n            var a = [1];\n            return function (n) {\n                var s = 1;\n                if (a[n]) {\n                    return a[n];\n                }\n                for (var i = n; i > 1; i--) {\n                    s *= i;\n                }\n                a[n] = s;\n                return s;\n            };\n        })(),\n        CatmullRom: function (p0, p1, p2, p3, t) {\n            var v0 = (p2 - p0) * 0.5;\n            var v1 = (p3 - p1) * 0.5;\n            var t2 = t * t;\n            var t3 = t * t2;\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n        },\n    },\n};\n\n/**\n * Utils\n */\nvar Sequence = /** @class */ (function () {\n    function Sequence() {\n    }\n    Sequence.nextId = function () {\n        return Sequence._nextId++;\n    };\n    Sequence._nextId = 0;\n    return Sequence;\n}());\n\nvar mainGroup = new Group();\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar Tween = /** @class */ (function () {\n    function Tween(_object, _group) {\n        if (_group === void 0) { _group = mainGroup; }\n        this._object = _object;\n        this._group = _group;\n        this._isPaused = false;\n        this._pauseStart = 0;\n        this._valuesStart = {};\n        this._valuesEnd = {};\n        this._valuesStartRepeat = {};\n        this._duration = 1000;\n        this._initialRepeat = 0;\n        this._repeat = 0;\n        this._yoyo = false;\n        this._isPlaying = false;\n        this._reversed = false;\n        this._delayTime = 0;\n        this._startTime = 0;\n        this._easingFunction = Easing.Linear.None;\n        this._interpolationFunction = Interpolation.Linear;\n        this._chainedTweens = [];\n        this._onStartCallbackFired = false;\n        this._id = Sequence.nextId();\n        this._isChainStopped = false;\n        this._goToEnd = false;\n    }\n    Tween.prototype.getId = function () {\n        return this._id;\n    };\n    Tween.prototype.isPlaying = function () {\n        return this._isPlaying;\n    };\n    Tween.prototype.isPaused = function () {\n        return this._isPaused;\n    };\n    Tween.prototype.to = function (properties, duration) {\n        // TODO? restore this, then update the 07_dynamic_to example to set fox\n        // tween's to on each update. That way the behavior is opt-in (there's\n        // currently no opt-out).\n        // for (const prop in properties) this._valuesEnd[prop] = properties[prop]\n        this._valuesEnd = Object.create(properties);\n        if (duration !== undefined) {\n            this._duration = duration;\n        }\n        return this;\n    };\n    Tween.prototype.duration = function (d) {\n        this._duration = d;\n        return this;\n    };\n    Tween.prototype.start = function (time) {\n        if (this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        this._repeat = this._initialRepeat;\n        if (this._reversed) {\n            // If we were reversed (f.e. using the yoyo feature) then we need to\n            // flip the tween direction back to forward.\n            this._reversed = false;\n            for (var property in this._valuesStartRepeat) {\n                this._swapEndStartRepeatValues(property);\n                this._valuesStart[property] = this._valuesStartRepeat[property];\n            }\n        }\n        this._isPlaying = true;\n        this._isPaused = false;\n        this._onStartCallbackFired = false;\n        this._isChainStopped = false;\n        this._startTime = time !== undefined ? (typeof time === 'string' ? now$1() + parseFloat(time) : time) : now$1();\n        this._startTime += this._delayTime;\n        this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat);\n        return this;\n    };\n    Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat) {\n        for (var property in _valuesEnd) {\n            var startValue = _object[property];\n            var startValueIsArray = Array.isArray(startValue);\n            var propType = startValueIsArray ? 'array' : typeof startValue;\n            var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\n            // If `to()` specifies a property that doesn't exist in the source object,\n            // we should not set that property in the object\n            if (propType === 'undefined' || propType === 'function') {\n                continue;\n            }\n            // Check if an Array was provided as property value\n            if (isInterpolationList) {\n                var endValues = _valuesEnd[property];\n                if (endValues.length === 0) {\n                    continue;\n                }\n                // handle an array of relative values\n                endValues = endValues.map(this._handleRelativeValue.bind(this, startValue));\n                // Create a local copy of the Array with the start value at the front\n                _valuesEnd[property] = [startValue].concat(endValues);\n            }\n            // handle the deepness of the values\n            if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\n                _valuesStart[property] = startValueIsArray ? [] : {};\n                // eslint-disable-next-line\n                for (var prop in startValue) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property][prop] = startValue[prop];\n                }\n                _valuesStartRepeat[property] = startValueIsArray ? [] : {}; // TODO? repeat nested values? And yoyo? And array values?\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property]);\n            }\n            else {\n                // Save the starting value, but only once.\n                if (typeof _valuesStart[property] === 'undefined') {\n                    _valuesStart[property] = startValue;\n                }\n                if (!startValueIsArray) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n                }\n                if (isInterpolationList) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\n                }\n                else {\n                    _valuesStartRepeat[property] = _valuesStart[property] || 0;\n                }\n            }\n        }\n    };\n    Tween.prototype.stop = function () {\n        if (!this._isChainStopped) {\n            this._isChainStopped = true;\n            this.stopChainedTweens();\n        }\n        if (!this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        this._isPlaying = false;\n        this._isPaused = false;\n        if (this._onStopCallback) {\n            this._onStopCallback(this._object);\n        }\n        return this;\n    };\n    Tween.prototype.end = function () {\n        this._goToEnd = true;\n        this.update(Infinity);\n        return this;\n    };\n    Tween.prototype.pause = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = true;\n        this._pauseStart = time;\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        return this;\n    };\n    Tween.prototype.resume = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (!this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = false;\n        this._startTime += time - this._pauseStart;\n        this._pauseStart = 0;\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        return this;\n    };\n    Tween.prototype.stopChainedTweens = function () {\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n            this._chainedTweens[i].stop();\n        }\n        return this;\n    };\n    Tween.prototype.group = function (group) {\n        this._group = group;\n        return this;\n    };\n    Tween.prototype.delay = function (amount) {\n        this._delayTime = amount;\n        return this;\n    };\n    Tween.prototype.repeat = function (times) {\n        this._initialRepeat = times;\n        this._repeat = times;\n        return this;\n    };\n    Tween.prototype.repeatDelay = function (amount) {\n        this._repeatDelayTime = amount;\n        return this;\n    };\n    Tween.prototype.yoyo = function (yoyo) {\n        this._yoyo = yoyo;\n        return this;\n    };\n    Tween.prototype.easing = function (easingFunction) {\n        this._easingFunction = easingFunction;\n        return this;\n    };\n    Tween.prototype.interpolation = function (interpolationFunction) {\n        this._interpolationFunction = interpolationFunction;\n        return this;\n    };\n    Tween.prototype.chain = function () {\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        this._chainedTweens = tweens;\n        return this;\n    };\n    Tween.prototype.onStart = function (callback) {\n        this._onStartCallback = callback;\n        return this;\n    };\n    Tween.prototype.onUpdate = function (callback) {\n        this._onUpdateCallback = callback;\n        return this;\n    };\n    Tween.prototype.onRepeat = function (callback) {\n        this._onRepeatCallback = callback;\n        return this;\n    };\n    Tween.prototype.onComplete = function (callback) {\n        this._onCompleteCallback = callback;\n        return this;\n    };\n    Tween.prototype.onStop = function (callback) {\n        this._onStopCallback = callback;\n        return this;\n    };\n    /**\n     * @returns true if the tween is still playing after the update, false\n     * otherwise (calling update on a paused tween still returns true because\n     * it is still playing, just paused).\n     */\n    Tween.prototype.update = function (time, autoStart) {\n        if (time === void 0) { time = now$1(); }\n        if (autoStart === void 0) { autoStart = true; }\n        if (this._isPaused)\n            return true;\n        var property;\n        var elapsed;\n        var endTime = this._startTime + this._duration;\n        if (!this._goToEnd && !this._isPlaying) {\n            if (time > endTime)\n                return false;\n            if (autoStart)\n                this.start(time);\n        }\n        this._goToEnd = false;\n        if (time < this._startTime) {\n            return true;\n        }\n        if (this._onStartCallbackFired === false) {\n            if (this._onStartCallback) {\n                this._onStartCallback(this._object);\n            }\n            this._onStartCallbackFired = true;\n        }\n        elapsed = (time - this._startTime) / this._duration;\n        elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\n        var value = this._easingFunction(elapsed);\n        // properties transformations\n        this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n        if (this._onUpdateCallback) {\n            this._onUpdateCallback(this._object, elapsed);\n        }\n        if (elapsed === 1) {\n            if (this._repeat > 0) {\n                if (isFinite(this._repeat)) {\n                    this._repeat--;\n                }\n                // Reassign starting values, restart by making startTime = now\n                for (property in this._valuesStartRepeat) {\n                    if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\n                        this._valuesStartRepeat[property] =\n                            // eslint-disable-next-line\n                            // @ts-ignore FIXME?\n                            this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n                    }\n                    if (this._yoyo) {\n                        this._swapEndStartRepeatValues(property);\n                    }\n                    this._valuesStart[property] = this._valuesStartRepeat[property];\n                }\n                if (this._yoyo) {\n                    this._reversed = !this._reversed;\n                }\n                if (this._repeatDelayTime !== undefined) {\n                    this._startTime = time + this._repeatDelayTime;\n                }\n                else {\n                    this._startTime = time + this._delayTime;\n                }\n                if (this._onRepeatCallback) {\n                    this._onRepeatCallback(this._object);\n                }\n                return true;\n            }\n            else {\n                if (this._onCompleteCallback) {\n                    this._onCompleteCallback(this._object);\n                }\n                for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n                    // Make the chained tweens start exactly at the time they should,\n                    // even if the `update()` method was called way past the duration of the tween\n                    this._chainedTweens[i].start(this._startTime + this._duration);\n                }\n                this._isPlaying = false;\n                return false;\n            }\n        }\n        return true;\n    };\n    Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\n        for (var property in _valuesEnd) {\n            // Don't update properties that do not exist in the source object\n            if (_valuesStart[property] === undefined) {\n                continue;\n            }\n            var start = _valuesStart[property] || 0;\n            var end = _valuesEnd[property];\n            var startIsArray = Array.isArray(_object[property]);\n            var endIsArray = Array.isArray(end);\n            var isInterpolationList = !startIsArray && endIsArray;\n            if (isInterpolationList) {\n                _object[property] = this._interpolationFunction(end, value);\n            }\n            else if (typeof end === 'object' && end) {\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._updateProperties(_object[property], start, end, value);\n            }\n            else {\n                // Parses relative end values with start as base (e.g.: +10, -3)\n                end = this._handleRelativeValue(start, end);\n                // Protect against non numeric properties.\n                if (typeof end === 'number') {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _object[property] = start + (end - start) * value;\n                }\n            }\n        }\n    };\n    Tween.prototype._handleRelativeValue = function (start, end) {\n        if (typeof end !== 'string') {\n            return end;\n        }\n        if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n            return start + parseFloat(end);\n        }\n        else {\n            return parseFloat(end);\n        }\n    };\n    Tween.prototype._swapEndStartRepeatValues = function (property) {\n        var tmp = this._valuesStartRepeat[property];\n        var endValue = this._valuesEnd[property];\n        if (typeof endValue === 'string') {\n            this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\n        }\n        else {\n            this._valuesStartRepeat[property] = this._valuesEnd[property];\n        }\n        this._valuesEnd[property] = tmp;\n    };\n    return Tween;\n}());\n\nvar VERSION = '18.6.4';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar nextId = Sequence.nextId;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tweens.\n */\nvar TWEEN = mainGroup;\n// This is the best way to export things in a way that's compatible with both ES\n// Modules and CommonJS, without build hacks, and so as not to break the\n// existing API.\n// https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\nvar getAll = TWEEN.getAll.bind(TWEEN);\nvar removeAll = TWEEN.removeAll.bind(TWEEN);\nvar add = TWEEN.add.bind(TWEEN);\nvar remove = TWEEN.remove.bind(TWEEN);\nvar update = TWEEN.update.bind(TWEEN);\nvar exports = {\n    Easing: Easing,\n    Group: Group,\n    Interpolation: Interpolation,\n    now: now$1,\n    Sequence: Sequence,\n    nextId: nextId,\n    Tween: Tween,\n    VERSION: VERSION,\n    getAll: getAll,\n    removeAll: removeAll,\n    add: add,\n    remove: remove,\n    update: update,\n};\n\nexport default exports;\nexport { Easing, Group, Interpolation, Sequence, Tween, VERSION, add, getAll, nextId, now$1 as now, remove, removeAll, update };\n","import debounce from 'debounce';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar Prop = function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n      defaultVal = _ref$default === void 0 ? null : _ref$default,\n      _ref$triggerUpdate = _ref.triggerUpdate,\n      triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n\n  _classCallCheck(this, Prop);\n\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n};\n\nfunction index (_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n      stateInit = _ref2$stateInit === void 0 ? function () {\n    return {};\n  } : _ref2$stateInit,\n      _ref2$props = _ref2.props,\n      rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      _ref2$aliases = _ref2.aliases,\n      aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n      _ref2$init = _ref2.init,\n      initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n      _ref2$update = _ref2.update,\n      updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit, // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    }); // keeps track of which props triggered an update\n\n    var changedProps = {}; // Component constructor\n\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1); // Getter/setter methods\n\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n            _ref3$triggerUpdate = _ref3.triggerUpdate,\n            redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n            _ref3$onChange = _ref3.onChange,\n            onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n            _ref3$defaultVal = _ref3.defaultVal,\n            defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal); // track changed props\n\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n\n          if (redigest) {\n            digest();\n          }\n\n          return comp;\n        };\n      }\n    }); // Other methods\n\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    }); // Link aliases\n\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          alias = _ref5[0],\n          target = _ref5[1];\n\n      return comp[alias] = comp[target];\n    }); // Reset all component props to their default value\n\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    }; //\n\n\n    comp.resetProps(); // Apply all prop defaults\n\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport default index;\n","var index = (function (p) {\n  return p instanceof Function ? p // fn\n  : typeof p === 'string' ? function (obj) {\n    return obj[p];\n  } // property name\n  : function (obj) {\n    return p;\n  };\n}); // constant\n\nexport default index;\n","import tinyColor from 'tinycolor2';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar ENTROPY = 123; // Raise numbers to prevent collisions in lower indexes\n\nvar int2HexColor = function int2HexColor(num) {\n  return \"#\".concat(Math.min(num, Math.pow(2, 24)).toString(16).padStart(6, '0'));\n};\n\nvar rgb2Int = function rgb2Int(r, g, b) {\n  return (r << 16) + (g << 8) + b;\n};\n\nvar colorStr2Int = function colorStr2Int(str) {\n  var _tinyColor$toRgb = tinyColor(str).toRgb(),\n      r = _tinyColor$toRgb.r,\n      g = _tinyColor$toRgb.g,\n      b = _tinyColor$toRgb.b;\n\n  return rgb2Int(r, g, b);\n};\n\nvar checksum = function checksum(n, csBits) {\n  return n * ENTROPY % Math.pow(2, csBits);\n};\n\nvar _default = /*#__PURE__*/function () {\n  function _default() {\n    var csBits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 6;\n\n    _classCallCheck(this, _default);\n\n    this.csBits = csBits; // How many bits to reserve for checksum. Will eat away into the usable size of the registry.\n\n    this.registry = ['__reserved for background__']; // indexed objects for rgb lookup;\n  }\n\n  _createClass(_default, [{\n    key: \"register\",\n    value: function register(obj) {\n      if (this.registry.length >= Math.pow(2, 24 - this.csBits)) {\n        // color has 24 bits (-checksum)\n        return null; // Registry is full\n      }\n\n      var idx = this.registry.length;\n      var cs = checksum(idx, this.csBits);\n      var color = int2HexColor(idx + (cs << 24 - this.csBits));\n      this.registry.push(obj);\n      return color;\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup(color) {\n      var n = typeof color === 'string' ? colorStr2Int(color) : rgb2Int.apply(void 0, _toConsumableArray(color));\n      if (!n) return null; // 0 index is reserved for background\n\n      var idx = n & Math.pow(2, 24 - this.csBits) - 1; // registry index\n\n      var cs = n >> 24 - this.csBits & Math.pow(2, this.csBits) - 1; // extract bits reserved for checksum\n\n      if (checksum(idx, this.csBits) !== cs || idx >= this.registry.length) return null; // failed checksum or registry out of bounds\n\n      return this.registry[idx];\n    }\n  }]);\n\n  return _default;\n}();\n\nexport default _default;\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nvar MAX_DIMENSIONS = 3;\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nexport function z(d) {\n  return d.z;\n}\n\nvar initialRadius = 10,\n    initialAngleRoll = Math.PI * (3 - Math.sqrt(5)), // Golden ratio angle\n    initialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nexport default function(nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n      simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= velocityDecay;\n          else node.y = node.fy, node.vy = 0;\n        }\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= velocityDecay;\n          else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n      if (isNaN(node.x) || (nDim > 1 && isNaN(node.y)) || (nDim > 2 && isNaN(node.z))) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(0.5 + i) : (nDim > 1 ? Math.sqrt(0.5 + i) : i)),\n          rollAngle = i * initialAngleRoll,\n          yawAngle = i * initialAngleYaw;\n\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else { // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n      if (isNaN(node.vx) || (nDim > 1 && isNaN(node.vy)) || (nDim > 2 && isNaN(node.vz))) {\n        node.vx = 0;\n        if (nDim > 1) { node.vy = 0; }\n        if (nDim > 2) { node.vz = 0; }\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random, nDim);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    numDimensions: function(_) {\n      return arguments.length\n          ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation)\n          : nDim;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function() {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n          y = (nDim > 1 ? args.shift() : null) || 0,\n          z = (nDim > 2 ? args.shift() : null) || 0,\n          radius = args.shift() || Infinity;\n\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          dz,\n          d2,\n          node,\n          closest;\n\n      radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z ||0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      nDim,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        if (nDim > 1) { y = target.y + target.vy - source.y - source.vy || jiggle(random); }\n        if (nDim > 2) { z = target.z + target.vz - source.z - source.vz || jiggle(random); }\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n\n        target.vx -= x * (b = bias[i]);\n        if (nDim > 1) { target.vy -= y * b; }\n        if (nDim > 2) { target.vz -= z * b; }\n\n        source.vx += x * (b = 1 - b);\n        if (nDim > 1) { source.vy += y * b; }\n        if (nDim > 2) { source.vz += z * b; }\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var i, n = data.length,\n      x,\n      xz = new Array(n),\n      x0 = Infinity,\n      x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\n\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(2)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(2)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1) {\n      i = +(x < x0);\n      parent = new Array(2), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z; break;\n        case 1: x0 = x1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0]).cover(+_[1][0])\n      : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}\n","import Half from \"./half\";\n\nexport default function(x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n\n    // Stop searching if this half can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n\n      halves.push(\n        new Half(node[1], xm, x2),\n        new Half(node[0], x1, xm)\n      );\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1])\n      && node === (parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], q, node = this._root, child, x0, x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], next = [], q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, x1 = q.x1, xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d),\n      z = +this._z.call(null, d);\n  return add(this.cover(x, y, z), x, y, z, d);\n}\n\nfunction add(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      z0 = tree._z0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      z1 = tree._z1,\n      xm,\n      ym,\n      zm,\n      xp,\n      yp,\n      zp,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      z,\n      xz = new Array(n),\n      yz = new Array(n),\n      zz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      z0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity,\n      z1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1 || z0 > z1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0, z0).cover(x1, y1, z1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], zz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","export function defaultZ(d) {\n  return d[2];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\nimport tree_z, {defaultZ} from \"./z\";\n\nexport default function octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX : x, y == null ? defaultY : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = octree.prototype = Octree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(8)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(8)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\ntreeProto.z = tree_z;\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import {binarytree} from \"d3-binarytree\";\nimport {quadtree} from \"d3-quadtree\";\nimport {octree} from \"d3-octree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y, z} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      nDim,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i,\n        n = nodes.length,\n        tree =\n            (nDim === 1 ? binarytree(nodes, x)\n            :(nDim === 2 ? quadtree(nodes, x, y)\n            :(nDim === 3 ? octree(nodes, x, y, z)\n            :null\n        ))).visitAfter(accumulate);\n\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(treeNode) {\n    var strength = 0, q, c, weight = 0, x, y, z, i;\n    var numChildren = treeNode.length;\n\n    // For internal nodes, accumulate forces from children.\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n      if (nDim > 1) { treeNode.y = y / weight; }\n      if (nDim > 2) { treeNode.z = z / weight; }\n    }\n\n    // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n      q = treeNode;\n      q.x = q.data.x;\n      if (nDim > 1) { q.y = q.data.y; }\n      if (nDim > 2) { q.z = q.data.z; }\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    treeNode.value = strength;\n  }\n\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim-1];\n\n    var x = treeNode.x - node.x,\n        y = (nDim > 1 ? treeNode.y - node.y : 0),\n        z = (nDim > 2 ? treeNode.z - node.z : 0),\n        w = x2 - x1,\n        l = x * x + y * y + z * z;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n        if (nDim > 1) { node.vy += y * treeNode.value * alpha / l; }\n        if (nDim > 2) { node.vz += z * treeNode.value * alpha / l; }\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (treeNode.data !== node) {\n      w = strengths[treeNode.data.index] * alpha / l;\n      node.vx += x * w;\n      if (nDim > 1) { node.vy += y * w; }\n      if (nDim > 2) { node.vz += z * w; }\n    } while (treeNode = treeNode.next);\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export default function(x, y, z) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0,\n        sz = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, sz = (sz / n - z) * strength, i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (sx) { node.x -= sx }\n      if (sy) { node.y -= sy; }\n      if (sz) { node.z -= sz; }\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1;\n\n  // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var t = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1 || z0 > z || z >= z1) {\n      i = (z < z0) << 2 | (y < y0) << 1 | (x < x0);\n      parent = new Array(8), parent[i] = node, node = parent, t *= 2;\n      switch (i) {\n        case 0: x1 = x0 + t, y1 = y0 + t, z1 = z0 + t; break;\n        case 1: x0 = x1 - t, y1 = y0 + t, z1 = z0 + t; break;\n        case 2: x1 = x0 + t, y0 = y1 - t, z1 = z0 + t; break;\n        case 3: x0 = x1 - t, y0 = y1 - t, z1 = z0 + t; break;\n        case 4: x1 = x0 + t, y1 = y0 + t, z0 = z1 - t; break;\n        case 5: x0 = x1 - t, y1 = y0 + t, z0 = z1 - t; break;\n        case 6: x1 = x0 + t, y0 = y1 - t, z0 = z1 - t; break;\n        case 7: x0 = x1 - t, y0 = y1 - t, z0 = z1 - t; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}\n","import Octant from \"./octant\";\n\nexport default function(x, y, z, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1,\n      y1,\n      z1,\n      x2,\n      y2,\n      z2,\n      x3 = this._x1,\n      y3 = this._y1,\n      z3 = this._z1,\n      octs = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n\n  while (q = octs.pop()) {\n\n    // Stop searching if this octant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (z1 = q.z0) > z3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0\n        || (z2 = q.z1) < z0) continue;\n\n    // Bisect the current octant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2,\n          zm = (z1 + z2) / 2;\n\n      octs.push(\n        new Octant(node[7], xm, ym, zm, x2, y2, z2),\n        new Octant(node[6], x1, ym, zm, xm, y2, z2),\n        new Octant(node[5], xm, y1, zm, x2, ym, z2),\n        new Octant(node[4], x1, y1, zm, xm, ym, z2),\n        new Octant(node[3], xm, ym, z1, x2, y2, zm),\n        new Octant(node[2], x1, ym, z1, xm, y2, zm),\n        new Octant(node[1], xm, y1, z1, x2, ym, zm),\n        new Octant(node[0], x1, y1, z1, xm, ym, zm)\n      );\n\n      // Visit the closest octant first.\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | (x >= xm)) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          dz = z - +this._z.call(null, node.data),\n          d2 = dx * dx + dy * dy + dz * dz;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d, z0 = z - d;\n        x3 = x + d, y3 = y + d, z3 = z + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1,\n      x,\n      y,\n      z,\n      xm,\n      ym,\n      zm,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 7] || parent[(i + 2) & 7] || parent[(i + 3) & 7] || parent[(i + 4) & 7] || parent[(i + 5) & 7] || parent[(i + 6) & 7] || parent[(i + 7) & 7]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7])\n      && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], q, node = this._root, child, x0, y0, z0, x1, y1, z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n  return this;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], next = [], q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n  return this;\n}\n","import { Bezier } from \"./bezier.js\";\n\n// math-inlining.\nconst { abs, cos, sin, acos, atan2, sqrt, pow } = Math;\n\n// cube root function yielding real roots\nfunction crt(v) {\n  return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);\n}\n\n// trig constants\nconst pi = Math.PI,\n  tau = 2 * pi,\n  quart = pi / 2,\n  // float precision significant decimal\n  epsilon = 0.000001,\n  // extremas used in bbox calculation and similar algorithms\n  nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,\n  nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,\n  // a zero coordinate, which is surprisingly useful\n  ZERO = { x: 0, y: 0, z: 0 };\n\n// Bezier utility functions\nconst utils = {\n  // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n  Tvalues: [\n    -0.0640568928626056260850430826247450385909,\n    0.0640568928626056260850430826247450385909,\n    -0.1911188674736163091586398207570696318404,\n    0.1911188674736163091586398207570696318404,\n    -0.3150426796961633743867932913198102407864,\n    0.3150426796961633743867932913198102407864,\n    -0.4337935076260451384870842319133497124524,\n    0.4337935076260451384870842319133497124524,\n    -0.5454214713888395356583756172183723700107,\n    0.5454214713888395356583756172183723700107,\n    -0.6480936519369755692524957869107476266696,\n    0.6480936519369755692524957869107476266696,\n    -0.7401241915785543642438281030999784255232,\n    0.7401241915785543642438281030999784255232,\n    -0.8200019859739029219539498726697452080761,\n    0.8200019859739029219539498726697452080761,\n    -0.8864155270044010342131543419821967550873,\n    0.8864155270044010342131543419821967550873,\n    -0.9382745520027327585236490017087214496548,\n    0.9382745520027327585236490017087214496548,\n    -0.9747285559713094981983919930081690617411,\n    0.9747285559713094981983919930081690617411,\n    -0.9951872199970213601799974097007368118745,\n    0.9951872199970213601799974097007368118745,\n  ],\n\n  // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n  Cvalues: [\n    0.1279381953467521569740561652246953718517,\n    0.1279381953467521569740561652246953718517,\n    0.1258374563468282961213753825111836887264,\n    0.1258374563468282961213753825111836887264,\n    0.121670472927803391204463153476262425607,\n    0.121670472927803391204463153476262425607,\n    0.1155056680537256013533444839067835598622,\n    0.1155056680537256013533444839067835598622,\n    0.1074442701159656347825773424466062227946,\n    0.1074442701159656347825773424466062227946,\n    0.0976186521041138882698806644642471544279,\n    0.0976186521041138882698806644642471544279,\n    0.086190161531953275917185202983742667185,\n    0.086190161531953275917185202983742667185,\n    0.0733464814110803057340336152531165181193,\n    0.0733464814110803057340336152531165181193,\n    0.0592985849154367807463677585001085845412,\n    0.0592985849154367807463677585001085845412,\n    0.0442774388174198061686027482113382288593,\n    0.0442774388174198061686027482113382288593,\n    0.0285313886289336631813078159518782864491,\n    0.0285313886289336631813078159518782864491,\n    0.0123412297999871995468056670700372915759,\n    0.0123412297999871995468056670700372915759,\n  ],\n\n  arcfn: function (t, derivativeFn) {\n    const d = derivativeFn(t);\n    let l = d.x * d.x + d.y * d.y;\n    if (typeof d.z !== \"undefined\") {\n      l += d.z * d.z;\n    }\n    return sqrt(l);\n  },\n\n  compute: function (t, points, _3d) {\n    // shortcuts\n    if (t === 0) {\n      points[0].t = 0;\n      return points[0];\n    }\n\n    const order = points.length - 1;\n\n    if (t === 1) {\n      points[order].t = 1;\n      return points[order];\n    }\n\n    const mt = 1 - t;\n    let p = points;\n\n    // constant?\n    if (order === 0) {\n      points[0].t = t;\n      return points[0];\n    }\n\n    // linear?\n    if (order === 1) {\n      const ret = {\n        x: mt * p[0].x + t * p[1].x,\n        y: mt * p[0].y + t * p[1].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = mt * p[0].z + t * p[1].z;\n      }\n      return ret;\n    }\n\n    // quadratic/cubic curve?\n    if (order < 4) {\n      let mt2 = mt * mt,\n        t2 = t * t,\n        a,\n        b,\n        c,\n        d = 0;\n      if (order === 2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt * t * 2;\n        c = t2;\n      } else if (order === 3) {\n        a = mt2 * mt;\n        b = mt2 * t * 3;\n        c = mt * t2 * 3;\n        d = t * t2;\n      }\n      const ret = {\n        x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n        y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;\n      }\n      return ret;\n    }\n\n    // higher order curves: use de Casteljau's computation\n    const dCpts = JSON.parse(JSON.stringify(points));\n    while (dCpts.length > 1) {\n      for (let i = 0; i < dCpts.length - 1; i++) {\n        dCpts[i] = {\n          x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,\n          y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t,\n        };\n        if (typeof dCpts[i].z !== \"undefined\") {\n          dCpts[i] = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;\n        }\n      }\n      dCpts.splice(dCpts.length - 1, 1);\n    }\n    dCpts[0].t = t;\n    return dCpts[0];\n  },\n\n  computeWithRatios: function (t, points, ratios, _3d) {\n    const mt = 1 - t,\n      r = ratios,\n      p = points;\n\n    let f1 = r[0],\n      f2 = r[1],\n      f3 = r[2],\n      f4 = r[3],\n      d;\n\n    // spec for linear\n    f1 *= mt;\n    f2 *= t;\n\n    if (p.length === 2) {\n      d = f1 + f2;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to quadratic\n    f1 *= mt;\n    f2 *= 2 * mt;\n    f3 *= t * t;\n\n    if (p.length === 3) {\n      d = f1 + f2 + f3;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to cubic\n    f1 *= mt;\n    f2 *= 1.5 * mt;\n    f3 *= 3 * mt;\n    f4 *= t * t * t;\n\n    if (p.length === 4) {\n      d = f1 + f2 + f3 + f4;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y) / d,\n        z: !_3d\n          ? false\n          : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z) / d,\n        t: t,\n      };\n    }\n  },\n\n  derive: function (points, _3d) {\n    const dpoints = [];\n    for (let p = points, d = p.length, c = d - 1; d > 1; d--, c--) {\n      const list = [];\n      for (let j = 0, dpt; j < c; j++) {\n        dpt = {\n          x: c * (p[j + 1].x - p[j].x),\n          y: c * (p[j + 1].y - p[j].y),\n        };\n        if (_3d) {\n          dpt.z = c * (p[j + 1].z - p[j].z);\n        }\n        list.push(dpt);\n      }\n      dpoints.push(list);\n      p = list;\n    }\n    return dpoints;\n  },\n\n  between: function (v, m, M) {\n    return (\n      (m <= v && v <= M) ||\n      utils.approximately(v, m) ||\n      utils.approximately(v, M)\n    );\n  },\n\n  approximately: function (a, b, precision) {\n    return abs(a - b) <= (precision || epsilon);\n  },\n\n  length: function (derivativeFn) {\n    const z = 0.5,\n      len = utils.Tvalues.length;\n\n    let sum = 0;\n\n    for (let i = 0, t; i < len; i++) {\n      t = z * utils.Tvalues[i] + z;\n      sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);\n    }\n    return z * sum;\n  },\n\n  map: function (v, ds, de, ts, te) {\n    const d1 = de - ds,\n      d2 = te - ts,\n      v2 = v - ds,\n      r = v2 / d1;\n    return ts + d2 * r;\n  },\n\n  lerp: function (r, v1, v2) {\n    const ret = {\n      x: v1.x + r * (v2.x - v1.x),\n      y: v1.y + r * (v2.y - v1.y),\n    };\n    if (v1.z !== undefined && v2.z !== undefined) {\n      ret.z = v1.z + r * (v2.z - v1.z);\n    }\n    return ret;\n  },\n\n  pointToString: function (p) {\n    let s = p.x + \"/\" + p.y;\n    if (typeof p.z !== \"undefined\") {\n      s += \"/\" + p.z;\n    }\n    return s;\n  },\n\n  pointsToString: function (points) {\n    return \"[\" + points.map(utils.pointToString).join(\", \") + \"]\";\n  },\n\n  copy: function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n  },\n\n  angle: function (o, v1, v2) {\n    const dx1 = v1.x - o.x,\n      dy1 = v1.y - o.y,\n      dx2 = v2.x - o.x,\n      dy2 = v2.y - o.y,\n      cross = dx1 * dy2 - dy1 * dx2,\n      dot = dx1 * dx2 + dy1 * dy2;\n    return atan2(cross, dot);\n  },\n\n  // round as string, to avoid rounding errors\n  round: function (v, d) {\n    const s = \"\" + v;\n    const pos = s.indexOf(\".\");\n    return parseFloat(s.substring(0, pos + 1 + d));\n  },\n\n  dist: function (p1, p2) {\n    const dx = p1.x - p2.x,\n      dy = p1.y - p2.y;\n    return sqrt(dx * dx + dy * dy);\n  },\n\n  closest: function (LUT, point) {\n    let mdist = pow(2, 63),\n      mpos,\n      d;\n    LUT.forEach(function (p, idx) {\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        mpos = idx;\n      }\n    });\n    return { mdist: mdist, mpos: mpos };\n  },\n\n  abcratio: function (t, n) {\n    // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const bottom = pow(t, n) + pow(1 - t, n),\n      top = bottom - 1;\n    return abs(top / bottom);\n  },\n\n  projectionratio: function (t, n) {\n    // see u(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const top = pow(1 - t, n),\n      bottom = pow(t, n) + top;\n    return top / bottom;\n  },\n\n  lli8: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    const nx =\n        (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (d == 0) {\n      return false;\n    }\n    return { x: nx / d, y: ny / d };\n  },\n\n  lli4: function (p1, p2, p3, p4) {\n    const x1 = p1.x,\n      y1 = p1.y,\n      x2 = p2.x,\n      y2 = p2.y,\n      x3 = p3.x,\n      y3 = p3.y,\n      x4 = p4.x,\n      y4 = p4.y;\n    return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);\n  },\n\n  lli: function (v1, v2) {\n    return utils.lli4(v1, v1.c, v2, v2.c);\n  },\n\n  makeline: function (p1, p2) {\n    const x1 = p1.x,\n      y1 = p1.y,\n      x2 = p2.x,\n      y2 = p2.y,\n      dx = (x2 - x1) / 3,\n      dy = (y2 - y1) / 3;\n    return new Bezier(\n      x1,\n      y1,\n      x1 + dx,\n      y1 + dy,\n      x1 + 2 * dx,\n      y1 + 2 * dy,\n      x2,\n      y2\n    );\n  },\n\n  findbbox: function (sections) {\n    let mx = nMax,\n      my = nMax,\n      MX = nMin,\n      MY = nMin;\n    sections.forEach(function (s) {\n      const bbox = s.bbox();\n      if (mx > bbox.x.min) mx = bbox.x.min;\n      if (my > bbox.y.min) my = bbox.y.min;\n      if (MX < bbox.x.max) MX = bbox.x.max;\n      if (MY < bbox.y.max) MY = bbox.y.max;\n    });\n    return {\n      x: { min: mx, mid: (mx + MX) / 2, max: MX, size: MX - mx },\n      y: { min: my, mid: (my + MY) / 2, max: MY, size: MY - my },\n    };\n  },\n\n  shapeintersections: function (\n    s1,\n    bbox1,\n    s2,\n    bbox2,\n    curveIntersectionThreshold\n  ) {\n    if (!utils.bboxoverlap(bbox1, bbox2)) return [];\n    const intersections = [];\n    const a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n    const a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n    a1.forEach(function (l1) {\n      if (l1.virtual) return;\n      a2.forEach(function (l2) {\n        if (l2.virtual) return;\n        const iss = l1.intersects(l2, curveIntersectionThreshold);\n        if (iss.length > 0) {\n          iss.c1 = l1;\n          iss.c2 = l2;\n          iss.s1 = s1;\n          iss.s2 = s2;\n          intersections.push(iss);\n        }\n      });\n    });\n    return intersections;\n  },\n\n  makeshape: function (forward, back, curveIntersectionThreshold) {\n    const bpl = back.points.length;\n    const fpl = forward.points.length;\n    const start = utils.makeline(back.points[bpl - 1], forward.points[0]);\n    const end = utils.makeline(forward.points[fpl - 1], back.points[0]);\n    const shape = {\n      startcap: start,\n      forward: forward,\n      back: back,\n      endcap: end,\n      bbox: utils.findbbox([start, forward, back, end]),\n    };\n    shape.intersections = function (s2) {\n      return utils.shapeintersections(\n        shape,\n        shape.bbox,\n        s2,\n        s2.bbox,\n        curveIntersectionThreshold\n      );\n    };\n    return shape;\n  },\n\n  getminmax: function (curve, d, list) {\n    if (!list) return { min: 0, max: 0 };\n    let min = nMax,\n      max = nMin,\n      t,\n      c;\n    if (list.indexOf(0) === -1) {\n      list = [0].concat(list);\n    }\n    if (list.indexOf(1) === -1) {\n      list.push(1);\n    }\n    for (let i = 0, len = list.length; i < len; i++) {\n      t = list[i];\n      c = curve.get(t);\n      if (c[d] < min) {\n        min = c[d];\n      }\n      if (c[d] > max) {\n        max = c[d];\n      }\n    }\n    return { min: min, mid: (min + max) / 2, max: max, size: max - min };\n  },\n\n  align: function (points, line) {\n    const tx = line.p1.x,\n      ty = line.p1.y,\n      a = -atan2(line.p2.y - ty, line.p2.x - tx),\n      d = function (v) {\n        return {\n          x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),\n          y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a),\n        };\n      };\n    return points.map(d);\n  },\n\n  roots: function (points, line) {\n    line = line || { p1: { x: 0, y: 0 }, p2: { x: 1, y: 0 } };\n\n    const order = points.length - 1;\n    const aligned = utils.align(points, line);\n    const reduce = function (t) {\n      return 0 <= t && t <= 1;\n    };\n\n    if (order === 2) {\n      const a = aligned[0].y,\n        b = aligned[1].y,\n        c = aligned[2].y,\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2].filter(reduce);\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * b - 2 * c)].filter(reduce);\n      }\n      return [];\n    }\n\n    // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n    const pa = aligned[0].y,\n      pb = aligned[1].y,\n      pc = aligned[2].y,\n      pd = aligned[3].y;\n\n    let d = -pa + 3 * pb - 3 * pc + pd,\n      a = 3 * pa - 6 * pb + 3 * pc,\n      b = -3 * pa + 3 * pb,\n      c = pa;\n\n    if (utils.approximately(d, 0)) {\n      // this is not a cubic curve.\n      if (utils.approximately(a, 0)) {\n        // in fact, this is not a quadratic curve either.\n        if (utils.approximately(b, 0)) {\n          // in fact in fact, there are no solutions.\n          return [];\n        }\n        // linear solution:\n        return [-c / b].filter(reduce);\n      }\n      // quadratic solution:\n      const q = sqrt(b * b - 4 * a * c),\n        a2 = 2 * a;\n      return [(q - b) / a2, (-b - q) / a2].filter(reduce);\n    }\n\n    // at this point, we know we need a cubic solution:\n\n    a /= d;\n    b /= d;\n    c /= d;\n\n    const p = (3 * b - a * a) / 3,\n      p3 = p / 3,\n      q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n      q2 = q / 2,\n      discriminant = q2 * q2 + p3 * p3 * p3;\n\n    let u1, v1, x1, x2, x3;\n    if (discriminant < 0) {\n      const mp3 = -p / 3,\n        mp33 = mp3 * mp3 * mp3,\n        r = sqrt(mp33),\n        t = -q / (2 * r),\n        cosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n        phi = acos(cosphi),\n        crtr = crt(r),\n        t1 = 2 * crtr;\n      x1 = t1 * cos(phi / 3) - a / 3;\n      x2 = t1 * cos((phi + tau) / 3) - a / 3;\n      x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;\n      return [x1, x2, x3].filter(reduce);\n    } else if (discriminant === 0) {\n      u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n      x1 = 2 * u1 - a / 3;\n      x2 = -u1 - a / 3;\n      return [x1, x2].filter(reduce);\n    } else {\n      const sd = sqrt(discriminant);\n      u1 = crt(-q2 + sd);\n      v1 = crt(q2 + sd);\n      return [u1 - v1 - a / 3].filter(reduce);\n    }\n  },\n\n  droots: function (p) {\n    // quadratic roots are easy\n    if (p.length === 3) {\n      const a = p[0],\n        b = p[1],\n        c = p[2],\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2];\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * (b - c))];\n      }\n      return [];\n    }\n\n    // linear roots are even easier\n    if (p.length === 2) {\n      const a = p[0],\n        b = p[1];\n      if (a !== b) {\n        return [a / (a - b)];\n      }\n      return [];\n    }\n\n    return [];\n  },\n\n  curvature: function (t, d1, d2, _3d, kOnly) {\n    let num,\n      dnm,\n      adk,\n      dk,\n      k = 0,\n      r = 0;\n\n    //\n    // We're using the following formula for curvature:\n    //\n    //              x'y\" - y'x\"\n    //   k(t) = ------------------\n    //           (x'² + y'²)^(3/2)\n    //\n    // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition\n    //\n    // With it corresponding 3D counterpart:\n    //\n    //          sqrt( (y'z\" - y\"z')² + (z'x\" - z\"x')² + (x'y\" - x\"y')²)\n    //   k(t) = -------------------------------------------------------\n    //                     (x'² + y'² + z'²)^(3/2)\n    //\n\n    const d = utils.compute(t, d1);\n    const dd = utils.compute(t, d2);\n    const qdsum = d.x * d.x + d.y * d.y;\n\n    if (_3d) {\n      num = sqrt(\n        pow(d.y * dd.z - dd.y * d.z, 2) +\n          pow(d.z * dd.x - dd.z * d.x, 2) +\n          pow(d.x * dd.y - dd.x * d.y, 2)\n      );\n      dnm = pow(qdsum + d.z * d.z, 3 / 2);\n    } else {\n      num = d.x * dd.y - d.y * dd.x;\n      dnm = pow(qdsum, 3 / 2);\n    }\n\n    if (num === 0 || dnm === 0) {\n      return { k: 0, r: 0 };\n    }\n\n    k = num / dnm;\n    r = dnm / num;\n\n    // We're also computing the derivative of kappa, because\n    // there is value in knowing the rate of change for the\n    // curvature along the curve. And we're just going to\n    // ballpark it based on an epsilon.\n    if (!kOnly) {\n      // compute k'(t) based on the interval before, and after it,\n      // to at least try to not introduce forward/backward pass bias.\n      const pk = utils.curvature(t - 0.001, d1, d2, _3d, true).k;\n      const nk = utils.curvature(t + 0.001, d1, d2, _3d, true).k;\n      dk = (nk - k + (k - pk)) / 2;\n      adk = (abs(nk - k) + abs(k - pk)) / 2;\n    }\n\n    return { k: k, r: r, dk: dk, adk: adk };\n  },\n\n  inflections: function (points) {\n    if (points.length < 4) return [];\n\n    // FIXME: TODO: add in inflection abstraction for quartic+ curves?\n\n    const p = utils.align(points, { p1: points[0], p2: points.slice(-1)[0] }),\n      a = p[2].x * p[1].y,\n      b = p[3].x * p[1].y,\n      c = p[1].x * p[2].y,\n      d = p[3].x * p[2].y,\n      v1 = 18 * (-3 * a + 2 * b + 3 * c - d),\n      v2 = 18 * (3 * a - b - 3 * c),\n      v3 = 18 * (c - a);\n\n    if (utils.approximately(v1, 0)) {\n      if (!utils.approximately(v2, 0)) {\n        let t = -v3 / v2;\n        if (0 <= t && t <= 1) return [t];\n      }\n      return [];\n    }\n\n    const trm = v2 * v2 - 4 * v1 * v3,\n      sq = Math.sqrt(trm),\n      d2 = 2 * v1;\n\n    if (utils.approximately(d2, 0)) return [];\n\n    return [(sq - v2) / d2, -(v2 + sq) / d2].filter(function (r) {\n      return 0 <= r && r <= 1;\n    });\n  },\n\n  bboxoverlap: function (b1, b2) {\n    const dims = [\"x\", \"y\"],\n      len = dims.length;\n\n    for (let i = 0, dim, l, t, d; i < len; i++) {\n      dim = dims[i];\n      l = b1[dim].mid;\n      t = b2[dim].mid;\n      d = (b1[dim].size + b2[dim].size) / 2;\n      if (abs(l - t) >= d) return false;\n    }\n    return true;\n  },\n\n  expandbox: function (bbox, _bbox) {\n    if (_bbox.x.min < bbox.x.min) {\n      bbox.x.min = _bbox.x.min;\n    }\n    if (_bbox.y.min < bbox.y.min) {\n      bbox.y.min = _bbox.y.min;\n    }\n    if (_bbox.z && _bbox.z.min < bbox.z.min) {\n      bbox.z.min = _bbox.z.min;\n    }\n    if (_bbox.x.max > bbox.x.max) {\n      bbox.x.max = _bbox.x.max;\n    }\n    if (_bbox.y.max > bbox.y.max) {\n      bbox.y.max = _bbox.y.max;\n    }\n    if (_bbox.z && _bbox.z.max > bbox.z.max) {\n      bbox.z.max = _bbox.z.max;\n    }\n    bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;\n    bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;\n    if (bbox.z) {\n      bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;\n    }\n    bbox.x.size = bbox.x.max - bbox.x.min;\n    bbox.y.size = bbox.y.max - bbox.y.min;\n    if (bbox.z) {\n      bbox.z.size = bbox.z.max - bbox.z.min;\n    }\n  },\n\n  pairiteration: function (c1, c2, curveIntersectionThreshold) {\n    const c1b = c1.bbox(),\n      c2b = c2.bbox(),\n      r = 100000,\n      threshold = curveIntersectionThreshold || 0.5;\n\n    if (\n      c1b.x.size + c1b.y.size < threshold &&\n      c2b.x.size + c2b.y.size < threshold\n    ) {\n      return [\n        (((r * (c1._t1 + c1._t2)) / 2) | 0) / r +\n          \"/\" +\n          (((r * (c2._t1 + c2._t2)) / 2) | 0) / r,\n      ];\n    }\n\n    let cc1 = c1.split(0.5),\n      cc2 = c2.split(0.5),\n      pairs = [\n        { left: cc1.left, right: cc2.left },\n        { left: cc1.left, right: cc2.right },\n        { left: cc1.right, right: cc2.right },\n        { left: cc1.right, right: cc2.left },\n      ];\n\n    pairs = pairs.filter(function (pair) {\n      return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());\n    });\n\n    let results = [];\n\n    if (pairs.length === 0) return results;\n\n    pairs.forEach(function (pair) {\n      results = results.concat(\n        utils.pairiteration(pair.left, pair.right, threshold)\n      );\n    });\n\n    results = results.filter(function (v, i) {\n      return results.indexOf(v) === i;\n    });\n\n    return results;\n  },\n\n  getccenter: function (p1, p2, p3) {\n    const dx1 = p2.x - p1.x,\n      dy1 = p2.y - p1.y,\n      dx2 = p3.x - p2.x,\n      dy2 = p3.y - p2.y,\n      dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n      dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n      dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n      dy2p = dx2 * sin(quart) + dy2 * cos(quart),\n      // chord midpoints\n      mx1 = (p1.x + p2.x) / 2,\n      my1 = (p1.y + p2.y) / 2,\n      mx2 = (p2.x + p3.x) / 2,\n      my2 = (p2.y + p3.y) / 2,\n      // midpoint offsets\n      mx1n = mx1 + dx1p,\n      my1n = my1 + dy1p,\n      mx2n = mx2 + dx2p,\n      my2n = my2 + dy2p,\n      // intersection of these lines:\n      arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),\n      r = utils.dist(arc, p1);\n\n    // arc start/end values, over mid point:\n    let s = atan2(p1.y - arc.y, p1.x - arc.x),\n      m = atan2(p2.y - arc.y, p2.x - arc.x),\n      e = atan2(p3.y - arc.y, p3.x - arc.x),\n      _;\n\n    // determine arc direction (cw/ccw correction)\n    if (s < e) {\n      // if s<m<e, arc(s, e)\n      // if m<s<e, arc(e, s + tau)\n      // if s<e<m, arc(e, s + tau)\n      if (s > m || m > e) {\n        s += tau;\n      }\n      if (s > e) {\n        _ = e;\n        e = s;\n        s = _;\n      }\n    } else {\n      // if e<m<s, arc(e, s)\n      // if m<e<s, arc(s, e + tau)\n      // if e<s<m, arc(s, e + tau)\n      if (e < m && m < s) {\n        _ = e;\n        e = s;\n        s = _;\n      } else {\n        e += tau;\n      }\n    }\n    // assign and done.\n    arc.s = s;\n    arc.e = e;\n    arc.r = r;\n    return arc;\n  },\n\n  numberSort: function (a, b) {\n    return a - b;\n  },\n};\n\nexport { utils };\n","import { utils } from \"./utils.js\";\n\n/**\n * Poly Bezier\n * @param {[type]} curves [description]\n */\nclass PolyBezier {\n  constructor(curves) {\n    this.curves = [];\n    this._3d = false;\n    if (!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return (\n      \"[\" +\n      this.curves\n        .map(function (curve) {\n          return utils.pointsToString(curve.points);\n        })\n        .join(\", \") +\n      \"]\"\n    );\n  }\n\n  addCurve(curve) {\n    this.curves.push(curve);\n    this._3d = this._3d || curve._3d;\n  }\n\n  length() {\n    return this.curves\n      .map(function (v) {\n        return v.length();\n      })\n      .reduce(function (a, b) {\n        return a + b;\n      });\n  }\n\n  curve(idx) {\n    return this.curves[idx];\n  }\n\n  bbox() {\n    const c = this.curves;\n    var bbox = c[0].bbox();\n    for (var i = 1; i < c.length; i++) {\n      utils.expandbox(bbox, c[i].bbox());\n    }\n    return bbox;\n  }\n\n  offset(d) {\n    const offset = [];\n    this.curves.forEach(function (v) {\n      offset.push(...v.offset(d));\n    });\n    return new PolyBezier(offset);\n  }\n}\n\nexport { PolyBezier };\n","/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n\nimport { utils } from \"./utils.js\";\nimport { PolyBezier } from \"./poly-bezier.js\";\n\n// math-inlining.\nconst { abs, min, max, cos, sin, acos, sqrt } = Math;\nconst pi = Math.PI;\n// a zero coordinate, which is surprisingly useful\nconst ZERO = { x: 0, y: 0, z: 0 };\n\n/**\n * Bezier curve constructor.\n *\n * ...docs pending...\n */\nclass Bezier {\n  constructor(coords) {\n    let args =\n      coords && coords.forEach ? coords : Array.from(arguments).slice();\n    let coordlen = false;\n\n    if (typeof args[0] === \"object\") {\n      coordlen = args.length;\n      const newargs = [];\n      args.forEach(function (point) {\n        [\"x\", \"y\", \"z\"].forEach(function (d) {\n          if (typeof point[d] !== \"undefined\") {\n            newargs.push(point[d]);\n          }\n        });\n      });\n      args = newargs;\n    }\n\n    let higher = false;\n    const len = args.length;\n\n    if (coordlen) {\n      if (coordlen > 4) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n        higher = true;\n      }\n    } else {\n      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n      }\n    }\n\n    const _3d = (this._3d =\n      (!higher && (len === 9 || len === 12)) ||\n      (coords && coords[0] && typeof coords[0].z !== \"undefined\"));\n\n    const points = (this.points = []);\n    for (let idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {\n      var point = {\n        x: args[idx],\n        y: args[idx + 1],\n      };\n      if (_3d) {\n        point.z = args[idx + 2];\n      }\n      points.push(point);\n    }\n    const order = (this.order = points.length - 1);\n\n    const dims = (this.dims = [\"x\", \"y\"]);\n    if (_3d) dims.push(\"z\");\n    this.dimlen = dims.length;\n\n    const aligned = utils.align(points, { p1: points[0], p2: points[order] });\n    this._linear = !aligned.some((p) => abs(p.y) > 0.0001);\n\n    this._lut = [];\n\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  }\n\n  static quadraticFromPoints(p1, p2, p3, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    // shortcuts, although they're really dumb\n    if (t === 0) {\n      return new Bezier(p2, p2, p3);\n    }\n    if (t === 1) {\n      return new Bezier(p1, p2, p2);\n    }\n    // real fitting.\n    const abc = Bezier.getABC(2, p1, p2, p3, t);\n    return new Bezier(p1, abc.A, p3);\n  }\n\n  static cubicFromPoints(S, B, E, t, d1) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    const abc = Bezier.getABC(3, S, B, E, t);\n    if (typeof d1 === \"undefined\") {\n      d1 = utils.dist(B, abc.C);\n    }\n    const d2 = (d1 * (1 - t)) / t;\n\n    const selen = utils.dist(S, E),\n      lx = (E.x - S.x) / selen,\n      ly = (E.y - S.y) / selen,\n      bx1 = d1 * lx,\n      by1 = d1 * ly,\n      bx2 = d2 * lx,\n      by2 = d2 * ly;\n    // derivation of new hull coordinates\n    const e1 = { x: B.x - bx1, y: B.y - by1 },\n      e2 = { x: B.x + bx2, y: B.y + by2 },\n      A = abc.A,\n      v1 = { x: A.x + (e1.x - A.x) / (1 - t), y: A.y + (e1.y - A.y) / (1 - t) },\n      v2 = { x: A.x + (e2.x - A.x) / t, y: A.y + (e2.y - A.y) / t },\n      nc1 = { x: S.x + (v1.x - S.x) / t, y: S.y + (v1.y - S.y) / t },\n      nc2 = {\n        x: E.x + (v2.x - E.x) / (1 - t),\n        y: E.y + (v2.y - E.y) / (1 - t),\n      };\n    // ...done\n    return new Bezier(S, nc1, nc2, E);\n  }\n\n  static getUtils() {\n    return utils;\n  }\n\n  getUtils() {\n    return Bezier.getUtils();\n  }\n\n  static get PolyBezier() {\n    return PolyBezier;\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return utils.pointsToString(this.points);\n  }\n\n  toSVG() {\n    if (this._3d) return false;\n    const p = this.points,\n      x = p[0].x,\n      y = p[0].y,\n      s = [\"M\", x, y, this.order === 2 ? \"Q\" : \"C\"];\n    for (let i = 1, last = p.length; i < last; i++) {\n      s.push(p[i].x);\n      s.push(p[i].y);\n    }\n    return s.join(\" \");\n  }\n\n  setRatios(ratios) {\n    if (ratios.length !== this.points.length) {\n      throw new Error(\"incorrect number of ratio values\");\n    }\n    this.ratios = ratios;\n    this._lut = []; //  invalidate any precomputed LUT\n  }\n\n  verify() {\n    const print = this.coordDigest();\n    if (print !== this._print) {\n      this._print = print;\n      this.update();\n    }\n  }\n\n  coordDigest() {\n    return this.points\n      .map(function (c, pos) {\n        return \"\" + pos + c.x + c.y + (c.z ? c.z : 0);\n      })\n      .join(\"\");\n  }\n\n  update() {\n    // invalidate any precomputed LUT\n    this._lut = [];\n    this.dpoints = utils.derive(this.points, this._3d);\n    this.computedirection();\n  }\n\n  computedirection() {\n    const points = this.points;\n    const angle = utils.angle(points[0], points[this.order], points[1]);\n    this.clockwise = angle > 0;\n  }\n\n  length() {\n    return utils.length(this.derivative.bind(this));\n  }\n\n  static getABC(order = 2, S, B, E, t = 0.5) {\n    const u = utils.projectionratio(t, order),\n      um = 1 - u,\n      C = {\n        x: u * S.x + um * E.x,\n        y: u * S.y + um * E.y,\n      },\n      s = utils.abcratio(t, order),\n      A = {\n        x: B.x + (B.x - C.x) / s,\n        y: B.y + (B.y - C.y) / s,\n      };\n    return { A, B, C, S, E };\n  }\n\n  getABC(t, B) {\n    B = B || this.get(t);\n    let S = this.points[0];\n    let E = this.points[this.order];\n    return Bezier.getABC(this.order, S, B, E, t);\n  }\n\n  getLUT(steps) {\n    this.verify();\n    steps = steps || 100;\n    if (this._lut.length === steps) {\n      return this._lut;\n    }\n    this._lut = [];\n    // We want a range from 0 to 1 inclusive, so\n    // we decrement and then use <= rather than <:\n    steps--;\n    for (let i = 0, p, t; i < steps; i++) {\n      t = i / (steps - 1);\n      p = this.compute(t);\n      p.t = t;\n      this._lut.push(p);\n    }\n    return this._lut;\n  }\n\n  on(point, error) {\n    error = error || 5;\n    const lut = this.getLUT(),\n      hits = [];\n    for (let i = 0, c, t = 0; i < lut.length; i++) {\n      c = lut[i];\n      if (utils.dist(c, point) < error) {\n        hits.push(c);\n        t += i / lut.length;\n      }\n    }\n    if (!hits.length) return false;\n    return (t /= hits.length);\n  }\n\n  project(point) {\n    // step 1: coarse check\n    const LUT = this.getLUT(),\n      l = LUT.length - 1,\n      closest = utils.closest(LUT, point),\n      mpos = closest.mpos,\n      t1 = (mpos - 1) / l,\n      t2 = (mpos + 1) / l,\n      step = 0.1 / l;\n\n    // step 2: fine check\n    let mdist = closest.mdist,\n      t = t1,\n      ft = t,\n      p;\n    mdist += 1;\n    for (let d; t < t2 + step; t += step) {\n      p = this.compute(t);\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        ft = t;\n      }\n    }\n    ft = ft < 0 ? 0 : ft > 1 ? 1 : ft;\n    p = this.compute(ft);\n    p.t = ft;\n    p.d = mdist;\n    return p;\n  }\n\n  get(t) {\n    return this.compute(t);\n  }\n\n  point(idx) {\n    return this.points[idx];\n  }\n\n  compute(t) {\n    if (this.ratios) {\n      return utils.computeWithRatios(t, this.points, this.ratios, this._3d);\n    }\n    return utils.compute(t, this.points, this._3d, this.ratios);\n  }\n\n  raise() {\n    const p = this.points,\n      np = [p[0]],\n      k = p.length;\n    for (let i = 1, pi, pim; i < k; i++) {\n      pi = p[i];\n      pim = p[i - 1];\n      np[i] = {\n        x: ((k - i) / k) * pi.x + (i / k) * pim.x,\n        y: ((k - i) / k) * pi.y + (i / k) * pim.y,\n      };\n    }\n    np[k] = p[k - 1];\n    return new Bezier(np);\n  }\n\n  derivative(t) {\n    return utils.compute(t, this.dpoints[0], this._3d);\n  }\n\n  dderivative(t) {\n    return utils.compute(t, this.dpoints[1], this._3d);\n  }\n\n  align() {\n    let p = this.points;\n    return new Bezier(utils.align(p, { p1: p[0], p2: p[p.length - 1] }));\n  }\n\n  curvature(t) {\n    return utils.curvature(t, this.dpoints[0], this.dpoints[1], this._3d);\n  }\n\n  inflections() {\n    return utils.inflections(this.points);\n  }\n\n  normal(t) {\n    return this._3d ? this.__normal3(t) : this.__normal2(t);\n  }\n\n  __normal2(t) {\n    const d = this.derivative(t);\n    const q = sqrt(d.x * d.x + d.y * d.y);\n    return { x: -d.y / q, y: d.x / q };\n  }\n\n  __normal3(t) {\n    // see http://stackoverflow.com/questions/25453159\n    const r1 = this.derivative(t),\n      r2 = this.derivative(t + 0.01),\n      q1 = sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),\n      q2 = sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);\n    r1.x /= q1;\n    r1.y /= q1;\n    r1.z /= q1;\n    r2.x /= q2;\n    r2.y /= q2;\n    r2.z /= q2;\n    // cross product\n    const c = {\n      x: r2.y * r1.z - r2.z * r1.y,\n      y: r2.z * r1.x - r2.x * r1.z,\n      z: r2.x * r1.y - r2.y * r1.x,\n    };\n    const m = sqrt(c.x * c.x + c.y * c.y + c.z * c.z);\n    c.x /= m;\n    c.y /= m;\n    c.z /= m;\n    // rotation matrix\n    const R = [\n      c.x * c.x,\n      c.x * c.y - c.z,\n      c.x * c.z + c.y,\n      c.x * c.y + c.z,\n      c.y * c.y,\n      c.y * c.z - c.x,\n      c.x * c.z - c.y,\n      c.y * c.z + c.x,\n      c.z * c.z,\n    ];\n    // normal vector:\n    const n = {\n      x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n      y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n      z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z,\n    };\n    return n;\n  }\n\n  hull(t) {\n    let p = this.points,\n      _p = [],\n      q = [],\n      idx = 0;\n    q[idx++] = p[0];\n    q[idx++] = p[1];\n    q[idx++] = p[2];\n    if (this.order === 3) {\n      q[idx++] = p[3];\n    }\n    // we lerp between all points at each iteration, until we have 1 point left.\n    while (p.length > 1) {\n      _p = [];\n      for (let i = 0, pt, l = p.length - 1; i < l; i++) {\n        pt = utils.lerp(t, p[i], p[i + 1]);\n        q[idx++] = pt;\n        _p.push(pt);\n      }\n      p = _p;\n    }\n    return q;\n  }\n\n  split(t1, t2) {\n    // shortcuts\n    if (t1 === 0 && !!t2) {\n      return this.split(t2).left;\n    }\n    if (t2 === 1) {\n      return this.split(t1).right;\n    }\n\n    // no shortcut: use \"de Casteljau\" iteration.\n    const q = this.hull(t1);\n    const result = {\n      left:\n        this.order === 2\n          ? new Bezier([q[0], q[3], q[5]])\n          : new Bezier([q[0], q[4], q[7], q[9]]),\n      right:\n        this.order === 2\n          ? new Bezier([q[5], q[4], q[2]])\n          : new Bezier([q[9], q[8], q[6], q[3]]),\n      span: q,\n    };\n\n    // make sure we bind _t1/_t2 information!\n    result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);\n    result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2);\n\n    // if we have no t2, we're done\n    if (!t2) {\n      return result;\n    }\n\n    // if we have a t2, split again:\n    t2 = utils.map(t2, t1, 1, 0, 1);\n    return result.right.split(t2).left;\n  }\n\n  extrema() {\n    const result = {};\n    let roots = [];\n\n    this.dims.forEach(\n      function (dim) {\n        let mfn = function (v) {\n          return v[dim];\n        };\n        let p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n        if (this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n        result[dim] = result[dim].filter(function (t) {\n          return t >= 0 && t <= 1;\n        });\n        roots = roots.concat(result[dim].sort(utils.numberSort));\n      }.bind(this)\n    );\n\n    result.values = roots.sort(utils.numberSort).filter(function (v, idx) {\n      return roots.indexOf(v) === idx;\n    });\n\n    return result;\n  }\n\n  bbox() {\n    const extrema = this.extrema(),\n      result = {};\n    this.dims.forEach(\n      function (d) {\n        result[d] = utils.getminmax(this, d, extrema[d]);\n      }.bind(this)\n    );\n    return result;\n  }\n\n  overlaps(curve) {\n    const lbbox = this.bbox(),\n      tbbox = curve.bbox();\n    return utils.bboxoverlap(lbbox, tbbox);\n  }\n\n  offset(t, d) {\n    if (typeof d !== \"undefined\") {\n      const c = this.get(t),\n        n = this.normal(t);\n      const ret = {\n        c: c,\n        n: n,\n        x: c.x + n.x * d,\n        y: c.y + n.y * d,\n      };\n      if (this._3d) {\n        ret.z = c.z + n.z * d;\n      }\n      return ret;\n    }\n    if (this._linear) {\n      const nv = this.normal(0),\n        coords = this.points.map(function (p) {\n          const ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y,\n          };\n          if (p.z && nv.z) {\n            ret.z = p.z + t * nv.z;\n          }\n          return ret;\n        });\n      return [new Bezier(coords)];\n    }\n    return this.reduce().map(function (s) {\n      if (s._linear) {\n        return s.offset(t)[0];\n      }\n      return s.scale(t);\n    });\n  }\n\n  simple() {\n    if (this.order === 3) {\n      const a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n      const a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n      if ((a1 > 0 && a2 < 0) || (a1 < 0 && a2 > 0)) return false;\n    }\n    const n1 = this.normal(0);\n    const n2 = this.normal(1);\n    let s = n1.x * n2.x + n1.y * n2.y;\n    if (this._3d) {\n      s += n1.z * n2.z;\n    }\n    return abs(acos(s)) < pi / 3;\n  }\n\n  reduce() {\n    // TODO: examine these var types in more detail...\n    let i,\n      t1 = 0,\n      t2 = 0,\n      step = 0.01,\n      segment,\n      pass1 = [],\n      pass2 = [];\n    // first pass: split on extrema\n    let extrema = this.extrema().values;\n    if (extrema.indexOf(0) === -1) {\n      extrema = [0].concat(extrema);\n    }\n    if (extrema.indexOf(1) === -1) {\n      extrema.push(1);\n    }\n\n    for (t1 = extrema[0], i = 1; i < extrema.length; i++) {\n      t2 = extrema[i];\n      segment = this.split(t1, t2);\n      segment._t1 = t1;\n      segment._t2 = t2;\n      pass1.push(segment);\n      t1 = t2;\n    }\n\n    // second pass: further reduce these segments to simple segments\n    pass1.forEach(function (p1) {\n      t1 = 0;\n      t2 = 0;\n      while (t2 <= 1) {\n        for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {\n          segment = p1.split(t1, t2);\n          if (!segment.simple()) {\n            t2 -= step;\n            if (abs(t1 - t2) < step) {\n              // we can never form a reduction\n              return [];\n            }\n            segment = p1.split(t1, t2);\n            segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n            segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);\n            pass2.push(segment);\n            t1 = t2;\n            break;\n          }\n        }\n      }\n      if (t1 < 1) {\n        segment = p1.split(t1, 1);\n        segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n        segment._t2 = p1._t2;\n        pass2.push(segment);\n      }\n    });\n    return pass2;\n  }\n\n  scale(d) {\n    const order = this.order;\n    let distanceFn = false;\n    if (typeof d === \"function\") {\n      distanceFn = d;\n    }\n    if (distanceFn && order === 2) {\n      return this.raise().scale(distanceFn);\n    }\n\n    // TODO: add special handling for degenerate (=linear) curves.\n    const clockwise = this.clockwise;\n    const r1 = distanceFn ? distanceFn(0) : d;\n    const r2 = distanceFn ? distanceFn(1) : d;\n    const v = [this.offset(0, 10), this.offset(1, 10)];\n    const points = this.points;\n    const np = [];\n    const o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n\n    if (!o) {\n      throw new Error(\"cannot scale this curve. Try reducing it first.\");\n    }\n    // move all points by distance 'd' wrt the origin 'o'\n\n    // move end points by fixed distance along normal.\n    [0, 1].forEach(function (t) {\n      const p = (np[t * order] = utils.copy(points[t * order]));\n      p.x += (t ? r2 : r1) * v[t].n.x;\n      p.y += (t ? r2 : r1) * v[t].n.y;\n    });\n\n    if (!distanceFn) {\n      // move control points to lie on the intersection of the offset\n      // derivative vector, and the origin-through-control vector\n      [0, 1].forEach((t) => {\n        if (order === 2 && !!t) return;\n        const p = np[t * order];\n        const d = this.derivative(t);\n        const p2 = { x: p.x + d.x, y: p.y + d.y };\n        np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);\n      });\n      return new Bezier(np);\n    }\n\n    // move control points by \"however much necessary to\n    // ensure the correct tangent to endpoint\".\n    [0, 1].forEach(function (t) {\n      if (order === 2 && !!t) return;\n      var p = points[t + 1];\n      var ov = {\n        x: p.x - o.x,\n        y: p.y - o.y,\n      };\n      var rc = distanceFn ? distanceFn((t + 1) / order) : d;\n      if (distanceFn && !clockwise) rc = -rc;\n      var m = sqrt(ov.x * ov.x + ov.y * ov.y);\n      ov.x /= m;\n      ov.y /= m;\n      np[t + 1] = {\n        x: p.x + rc * ov.x,\n        y: p.y + rc * ov.y,\n      };\n    });\n    return new Bezier(np);\n  }\n\n  outline(d1, d2, d3, d4) {\n    d2 = typeof d2 === \"undefined\" ? d1 : d2;\n    const reduced = this.reduce(),\n      len = reduced.length,\n      fcurves = [];\n\n    let bcurves = [],\n      p,\n      alen = 0,\n      tlen = this.length();\n\n    const graduated = typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\";\n\n    function linearDistanceFunction(s, e, tlen, alen, slen) {\n      return function (v) {\n        const f1 = alen / tlen,\n          f2 = (alen + slen) / tlen,\n          d = e - s;\n        return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);\n      };\n    }\n\n    // form curve oulines\n    reduced.forEach(function (segment) {\n      const slen = segment.length();\n      if (graduated) {\n        fcurves.push(\n          segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen))\n        );\n        bcurves.push(\n          segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen))\n        );\n      } else {\n        fcurves.push(segment.scale(d1));\n        bcurves.push(segment.scale(-d2));\n      }\n      alen += slen;\n    });\n\n    // reverse the \"return\" outline\n    bcurves = bcurves\n      .map(function (s) {\n        p = s.points;\n        if (p[3]) {\n          s.points = [p[3], p[2], p[1], p[0]];\n        } else {\n          s.points = [p[2], p[1], p[0]];\n        }\n        return s;\n      })\n      .reverse();\n\n    // form the endcaps as lines\n    const fs = fcurves[0].points[0],\n      fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],\n      bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],\n      be = bcurves[0].points[0],\n      ls = utils.makeline(bs, fs),\n      le = utils.makeline(fe, be),\n      segments = [ls].concat(fcurves).concat([le]).concat(bcurves),\n      slen = segments.length;\n\n    return new PolyBezier(segments);\n  }\n\n  outlineshapes(d1, d2, curveIntersectionThreshold) {\n    d2 = d2 || d1;\n    const outline = this.outline(d1, d2).curves;\n    const shapes = [];\n    for (let i = 1, len = outline.length; i < len / 2; i++) {\n      const shape = utils.makeshape(\n        outline[i],\n        outline[len - i],\n        curveIntersectionThreshold\n      );\n      shape.startcap.virtual = i > 1;\n      shape.endcap.virtual = i < len / 2 - 1;\n      shapes.push(shape);\n    }\n    return shapes;\n  }\n\n  intersects(curve, curveIntersectionThreshold) {\n    if (!curve) return this.selfintersects(curveIntersectionThreshold);\n    if (curve.p1 && curve.p2) {\n      return this.lineIntersects(curve);\n    }\n    if (curve instanceof Bezier) {\n      curve = curve.reduce();\n    }\n    return this.curveintersects(\n      this.reduce(),\n      curve,\n      curveIntersectionThreshold\n    );\n  }\n\n  lineIntersects(line) {\n    const mx = min(line.p1.x, line.p2.x),\n      my = min(line.p1.y, line.p2.y),\n      MX = max(line.p1.x, line.p2.x),\n      MY = max(line.p1.y, line.p2.y);\n    return utils.roots(this.points, line).filter((t) => {\n      var p = this.get(t);\n      return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);\n    });\n  }\n\n  selfintersects(curveIntersectionThreshold) {\n    // \"simple\" curves cannot intersect with their direct\n    // neighbour, so for each segment X we check whether\n    // it intersects [0:x-2][x+2:last].\n\n    const reduced = this.reduce(),\n      len = reduced.length - 2,\n      results = [];\n\n    for (let i = 0, result, left, right; i < len; i++) {\n      left = reduced.slice(i, i + 1);\n      right = reduced.slice(i + 2);\n      result = this.curveintersects(left, right, curveIntersectionThreshold);\n      results.push(...result);\n    }\n    return results;\n  }\n\n  curveintersects(c1, c2, curveIntersectionThreshold) {\n    const pairs = [];\n    // step 1: pair off any overlapping segments\n    c1.forEach(function (l) {\n      c2.forEach(function (r) {\n        if (l.overlaps(r)) {\n          pairs.push({ left: l, right: r });\n        }\n      });\n    });\n    // step 2: for each pairing, run through the convergence algorithm.\n    let intersections = [];\n    pairs.forEach(function (pair) {\n      const result = utils.pairiteration(\n        pair.left,\n        pair.right,\n        curveIntersectionThreshold\n      );\n      if (result.length > 0) {\n        intersections = intersections.concat(result);\n      }\n    });\n    return intersections;\n  }\n\n  arcs(errorThreshold) {\n    errorThreshold = errorThreshold || 0.5;\n    return this._iterate(errorThreshold, []);\n  }\n\n  _error(pc, np1, s, e) {\n    const q = (e - s) / 4,\n      c1 = this.get(s + q),\n      c2 = this.get(e - q),\n      ref = utils.dist(pc, np1),\n      d1 = utils.dist(pc, c1),\n      d2 = utils.dist(pc, c2);\n    return abs(d1 - ref) + abs(d2 - ref);\n  }\n\n  _iterate(errorThreshold, circles) {\n    let t_s = 0,\n      t_e = 1,\n      safety;\n    // we do a binary search to find the \"good `t` closest to no-longer-good\"\n    do {\n      safety = 0;\n\n      // step 1: start with the maximum possible arc\n      t_e = 1;\n\n      // points:\n      let np1 = this.get(t_s),\n        np2,\n        np3,\n        arc,\n        prev_arc;\n\n      // booleans:\n      let curr_good = false,\n        prev_good = false,\n        done;\n\n      // numbers:\n      let t_m = t_e,\n        prev_e = 1,\n        step = 0;\n\n      // step 2: find the best possible arc\n      do {\n        prev_good = curr_good;\n        prev_arc = arc;\n        t_m = (t_s + t_e) / 2;\n        step++;\n\n        np2 = this.get(t_m);\n        np3 = this.get(t_e);\n\n        arc = utils.getccenter(np1, np2, np3);\n\n        //also save the t values\n        arc.interval = {\n          start: t_s,\n          end: t_e,\n        };\n\n        let error = this._error(arc, np1, t_s, t_e);\n        curr_good = error <= errorThreshold;\n\n        done = prev_good && !curr_good;\n        if (!done) prev_e = t_e;\n\n        // this arc is fine: we can move 'e' up to see if we can find a wider arc\n        if (curr_good) {\n          // if e is already at max, then we're done for this arc.\n          if (t_e >= 1) {\n            // make sure we cap at t=1\n            arc.interval.end = prev_e = 1;\n            prev_arc = arc;\n            // if we capped the arc segment to t=1 we also need to make sure that\n            // the arc's end angle is correct with respect to the bezier end point.\n            if (t_e > 1) {\n              let d = {\n                x: arc.x + arc.r * cos(arc.e),\n                y: arc.y + arc.r * sin(arc.e),\n              };\n              arc.e += utils.angle({ x: arc.x, y: arc.y }, d, this.get(1));\n            }\n            break;\n          }\n          // if not, move it up by half the iteration distance\n          t_e = t_e + (t_e - t_s) / 2;\n        } else {\n          // this is a bad arc: we need to move 'e' down to find a good arc\n          t_e = t_m;\n        }\n      } while (!done && safety++ < 100);\n\n      if (safety >= 100) {\n        break;\n      }\n\n      // console.log(\"L835: [F] arc found\", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n      prev_arc = prev_arc ? prev_arc : arc;\n      circles.push(prev_arc);\n      t_s = prev_e;\n    } while (t_e < 1);\n    return circles;\n  }\n}\n\nexport { Bezier };\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar index = (function () {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyAccessors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var multiItem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var flattenKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var keys = (keyAccessors instanceof Array ? keyAccessors.length ? keyAccessors : [undefined] : [keyAccessors]).map(function (key) {\n    return {\n      keyAccessor: key,\n      isProp: !(key instanceof Function)\n    };\n  });\n  var indexedResult = list.reduce(function (res, item) {\n    var iterObj = res;\n    var itemVal = item;\n    keys.forEach(function (_ref, idx) {\n      var keyAccessor = _ref.keyAccessor,\n          isProp = _ref.isProp;\n      var key;\n\n      if (isProp) {\n        var _itemVal = itemVal,\n            propVal = _itemVal[keyAccessor],\n            rest = _objectWithoutProperties(_itemVal, [keyAccessor].map(_toPropertyKey));\n\n        key = propVal;\n        itemVal = rest;\n      } else {\n        key = keyAccessor(itemVal, idx);\n      }\n\n      if (idx + 1 < keys.length) {\n        if (!iterObj.hasOwnProperty(key)) {\n          iterObj[key] = {};\n        }\n\n        iterObj = iterObj[key];\n      } else {\n        // Leaf key\n        if (multiItem) {\n          if (!iterObj.hasOwnProperty(key)) {\n            iterObj[key] = [];\n          }\n\n          iterObj[key].push(itemVal);\n        } else {\n          iterObj[key] = itemVal;\n        }\n      }\n    });\n    return res;\n  }, {});\n\n  if (multiItem instanceof Function) {\n    // Reduce leaf multiple values\n    (function reduce(node) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (level === keys.length) {\n        Object.keys(node).forEach(function (k) {\n          return node[k] = multiItem(node[k]);\n        });\n      } else {\n        Object.values(node).forEach(function (child) {\n          return reduce(child, level + 1);\n        });\n      }\n    })(indexedResult); // IIFE\n\n  }\n\n  var result = indexedResult;\n\n  if (flattenKeys) {\n    // flatten into array\n    result = [];\n\n    (function flatten(node) {\n      var accKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (accKeys.length === keys.length) {\n        result.push({\n          keys: accKeys,\n          vals: node\n        });\n      } else {\n        Object.entries(node).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              key = _ref3[0],\n              val = _ref3[1];\n\n          return flatten(val, [].concat(_toConsumableArray(accKeys), [key]));\n        });\n      }\n    })(indexedResult); //IIFE\n\n\n    if (keyAccessors instanceof Array && keyAccessors.length === 0 && result.length === 1) {\n      // clear keys if there's no key accessors (single result)\n      result[0].keys = [];\n    }\n  }\n\n  return result;\n});\n\nexport default index;\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import { select } from 'd3-selection';\nimport { zoomTransform, zoom } from 'd3-zoom';\nimport { drag } from 'd3-drag';\nimport { min, max } from 'd3-array';\nimport throttle from 'lodash.throttle';\nimport TWEEN from '@tweenjs/tween.js';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport ColorTracker from 'canvas-color-tracker';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceRadial } from 'd3-force-3d';\nimport { Bezier } from 'bezier-js';\nimport indexBy from 'index-array-by';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".force-graph-container canvas {\\n  display: block;\\n  user-select: none;\\n  outline: none;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.force-graph-container .graph-tooltip {\\n  position: absolute;\\n  transform: translate(-50%, 25px);\\n  font-family: sans-serif;\\n  font-size: 16px;\\n  padding: 4px;\\n  border-radius: 3px;\\n  color: #eee;\\n  background: rgba(0,0,0,0.65);\\n  visibility: hidden; /* by default */\\n}\\n\\n.force-graph-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.force-graph-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.force-graph-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\";\nstyleInject(css_248z);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar autoColorScale = scaleOrdinal(schemePaired); // Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\n\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\n\nfunction getDagDepths (_ref, idAccessor) {\n  var nodes = _ref.nodes,\n      links = _ref.links;\n\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$nodeFilter = _ref2.nodeFilter,\n      nodeFilter = _ref2$nodeFilter === void 0 ? function () {\n    return true;\n  } : _ref2$nodeFilter,\n      _ref2$onLoopError = _ref2.onLoopError,\n      onLoopError = _ref2$onLoopError === void 0 ? function (loopIds) {\n    throw \"Invalid DAG structure! Found cycle in node path: \".concat(loopIds.join(' -> '), \".\");\n  } : _ref2$onLoopError;\n\n  // linked graph\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1,\n      skip: !nodeFilter(node)\n    };\n  });\n  links.forEach(function (_ref3) {\n    var source = _ref3.source,\n        target = _ref3.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  var foundLoops = [];\n  traverse(Object.values(graph));\n  var nodeDepths = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(graph).filter(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        node = _ref5[1];\n\n    return !node.skip;\n  }).map(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        id = _ref7[0],\n        node = _ref7[1];\n\n    return _defineProperty({}, id, node.depth);\n  }))));\n  return nodeDepths;\n\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      var node = nodes[i];\n\n      if (nodeStack.indexOf(node) !== -1) {\n        var _ret = function () {\n          var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n            return idAccessor(d.data);\n          });\n\n          if (!foundLoops.some(function (foundLoop) {\n            return foundLoop.length === loop.length && foundLoop.every(function (id, idx) {\n              return id === loop[idx];\n            });\n          })) {\n            foundLoops.push(loop);\n            onLoopError(loop);\n          }\n\n          return \"continue\";\n        }();\n\n        if (_ret === \"continue\") continue;\n      }\n\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]), currentDepth + (node.skip ? 0 : 1));\n      }\n    }\n  }\n}\n\nvar DAG_LEVEL_NODE_RATIO = 2; // whenever styling props are changed that require a canvas redraw\n\nvar notifyRedraw = function notifyRedraw(_, state) {\n  return state.onNeedsRedraw && state.onNeedsRedraw();\n};\n\nvar CanvasForceGraph = Kapsule({\n  props: {\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(_, state) {\n        state.engineRunning = false;\n      } // Pause simulation\n\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, radialin, radialout\n        !dagMode && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    dagNodeFilter: {\n      \"default\": function _default(node) {\n        return true;\n      }\n    },\n    onDagError: {\n      triggerUpdate: false\n    },\n    nodeRelSize: {\n      \"default\": 4,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    // area per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeColor: {\n      \"default\": 'color',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeAutoColorBy: {},\n    nodeCanvasObject: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeVisibility: {\n      \"default\": true,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkColor: {\n      \"default\": 'color',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkAutoColorBy: {},\n    linkLineDash: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkWidth: {\n      \"default\": 1,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCanvasObject: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowLength: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowColor: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    linkDirectionalParticleColor: {\n      triggerUpdate: false\n    },\n    globalScale: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    d3AlphaMin: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.forceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.forceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.forceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNeedsRedraw: {\n      triggerUpdate: false\n    },\n    isShadow: {\n      \"default\": false,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.forceLayout.force(forceName); // Force getter\n      }\n\n      state.forceLayout.force(forceName, forceFn); // Force setter\n\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.forceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    isEngineRunning: function isEngineRunning(state) {\n      return !!state.engineRunning;\n    },\n    tickFrame: function tickFrame(state) {\n      !state.isShadow && layoutTick();\n      paintLinks();\n      !state.isShadow && paintArrows();\n      !state.isShadow && paintPhotons();\n      paintNodes();\n      return this; //\n\n      function layoutTick() {\n        if (state.engineRunning) {\n          if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin) {\n            state.engineRunning = false; // Stop ticking graph\n\n            state.onEngineStop();\n          } else {\n            state.forceLayout.tick(); // Tick it\n\n            state.onEngineTick();\n          }\n        }\n      }\n\n      function paintNodes() {\n        var getVisibility = accessorFn(state.nodeVisibility);\n        var getVal = accessorFn(state.nodeVal);\n        var getColor = accessorFn(state.nodeColor);\n        var getNodeCanvasObjectMode = accessorFn(state.nodeCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow / state.globalScale;\n        var visibleNodes = state.graphData.nodes.filter(getVisibility);\n        ctx.save();\n        visibleNodes.forEach(function (node) {\n          var nodeCanvasObjectMode = getNodeCanvasObjectMode(node);\n\n          if (state.nodeCanvasObject && (nodeCanvasObjectMode === 'before' || nodeCanvasObjectMode === 'replace')) {\n            // Custom node before/replace paint\n            state.nodeCanvasObject(node, ctx, state.globalScale);\n\n            if (nodeCanvasObjectMode === 'replace') {\n              ctx.restore();\n              return;\n            }\n          } // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n\n          var r = Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize + padAmount;\n          ctx.beginPath();\n          ctx.arc(node.x, node.y, r, 0, 2 * Math.PI, false);\n          ctx.fillStyle = getColor(node) || 'rgba(31, 120, 180, 0.92)';\n          ctx.fill();\n\n          if (state.nodeCanvasObject && nodeCanvasObjectMode === 'after') {\n            // Custom node after paint\n            state.nodeCanvasObject(node, state.ctx, state.globalScale);\n          }\n        });\n        ctx.restore();\n      }\n\n      function paintLinks() {\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkColor);\n        var getWidth = accessorFn(state.linkWidth);\n        var getLineDash = accessorFn(state.linkLineDash);\n        var getCurvature = accessorFn(state.linkCurvature);\n        var getLinkCanvasObjectMode = accessorFn(state.linkCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider lines by 2px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow * 2;\n        var visibleLinks = state.graphData.links.filter(getVisibility);\n        visibleLinks.forEach(calcLinkControlPoints); // calculate curvature control points for all visible links\n\n        var beforeCustomLinks = [],\n            afterCustomLinks = [],\n            defaultPaintLinks = visibleLinks;\n\n        if (state.linkCanvasObject) {\n          var replaceCustomLinks = [],\n              otherCustomLinks = [];\n          visibleLinks.forEach(function (d) {\n            return ({\n              before: beforeCustomLinks,\n              after: afterCustomLinks,\n              replace: replaceCustomLinks\n            }[getLinkCanvasObjectMode(d)] || otherCustomLinks).push(d);\n          });\n          defaultPaintLinks = [].concat(_toConsumableArray(beforeCustomLinks), afterCustomLinks, otherCustomLinks);\n          beforeCustomLinks = beforeCustomLinks.concat(replaceCustomLinks);\n        } // Custom link before paints\n\n\n        ctx.save();\n        beforeCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); // Bundle strokes per unique color/width/dash for performance optimization\n\n        var linksPerColor = indexBy(defaultPaintLinks, [getColor, getWidth, getLineDash]);\n        ctx.save();\n        Object.entries(linksPerColor).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              color = _ref2[0],\n              linksPerWidth = _ref2[1];\n\n          var lineColor = !color || color === 'undefined' ? 'rgba(0,0,0,0.15)' : color;\n          Object.entries(linksPerWidth).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                width = _ref4[0],\n                linesPerLineDash = _ref4[1];\n\n            var lineWidth = (width || 1) / state.globalScale + padAmount;\n            Object.entries(linesPerLineDash).forEach(function (_ref5) {\n              var _ref6 = _slicedToArray(_ref5, 2);\n                  _ref6[0];\n                  var links = _ref6[1];\n\n              var lineDashSegments = getLineDash(links[0]);\n              ctx.beginPath();\n              links.forEach(function (link) {\n                var start = link.source;\n                var end = link.target;\n                if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n                ctx.moveTo(start.x, start.y);\n                var controlPoints = link.__controlPoints;\n\n                if (!controlPoints) {\n                  // Straight line\n                  ctx.lineTo(end.x, end.y);\n                } else {\n                  // Use quadratic curves for regular lines and bezier for loops\n                  ctx[controlPoints.length === 2 ? 'quadraticCurveTo' : 'bezierCurveTo'].apply(ctx, _toConsumableArray(controlPoints).concat([end.x, end.y]));\n                }\n              });\n              ctx.strokeStyle = lineColor;\n              ctx.lineWidth = lineWidth;\n              ctx.setLineDash(lineDashSegments || []);\n              ctx.stroke();\n            });\n          });\n        });\n        ctx.restore(); // Custom link after paints\n\n        ctx.save();\n        afterCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); //\n\n        function calcLinkControlPoints(link) {\n          var curvature = getCurvature(link);\n\n          if (!curvature) {\n            // straight line\n            link.__controlPoints = null;\n            return;\n          }\n\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var l = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2)); // line length\n\n          if (l > 0) {\n            var a = Math.atan2(end.y - start.y, end.x - start.x); // line angle\n\n            var d = l * curvature; // control point distance\n\n            var cp = {\n              // control point\n              x: (start.x + end.x) / 2 + d * Math.cos(a - Math.PI / 2),\n              y: (start.y + end.y) / 2 + d * Math.sin(a - Math.PI / 2)\n            };\n            link.__controlPoints = [cp.x, cp.y];\n          } else {\n            // Same point, draw a loop\n            var _d = curvature * 70;\n\n            link.__controlPoints = [end.x, end.y - _d, end.x + _d, end.y];\n          }\n        }\n      }\n\n      function paintArrows() {\n        var ARROW_WH_RATIO = 1.6;\n        var ARROW_VLEN_RATIO = 0.2;\n        var getLength = accessorFn(state.linkDirectionalArrowLength);\n        var getRelPos = accessorFn(state.linkDirectionalArrowRelPos);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalArrowColor || state.linkColor);\n        var getNodeVal = accessorFn(state.nodeVal);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var arrowLength = getLength(link);\n          if (!arrowLength || arrowLength < 0) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.sqrt(Math.max(0, getNodeVal(start) || 1)) * state.nodeRelSize;\n          var endR = Math.sqrt(Math.max(0, getNodeVal(end) || 1)) * state.nodeRelSize;\n          var arrowRelPos = Math.min(1, Math.max(0, getRelPos(link)));\n          var arrowColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          var arrowHalfWidth = arrowLength / ARROW_WH_RATIO / 2; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints && _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y]));\n\n          var getCoordsAlongLine = bzLine ? function (t) {\n            return bzLine.get(t);\n          } // get position along bezier line\n          : function (t) {\n            return {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * t || 0,\n              y: start.y + (end.y - start.y) * t || 0\n            };\n          };\n          var lineLen = bzLine ? bzLine.length() : Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getCoordsAlongLine(posAlongLine / lineLen);\n          var arrowTail = getCoordsAlongLine((posAlongLine - arrowLength) / lineLen);\n          var arrowTailVertex = getCoordsAlongLine((posAlongLine - arrowLength * (1 - ARROW_VLEN_RATIO)) / lineLen);\n          var arrowTailAngle = Math.atan2(arrowHead.y - arrowTail.y, arrowHead.x - arrowTail.x) - Math.PI / 2;\n          ctx.beginPath();\n          ctx.moveTo(arrowHead.x, arrowHead.y);\n          ctx.lineTo(arrowTail.x + arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y + arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.lineTo(arrowTailVertex.x, arrowTailVertex.y);\n          ctx.lineTo(arrowTail.x - arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y - arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.fillStyle = arrowColor;\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n\n      function paintPhotons() {\n        var getNumPhotons = accessorFn(state.linkDirectionalParticles);\n        var getSpeed = accessorFn(state.linkDirectionalParticleSpeed);\n        var getDiameter = accessorFn(state.linkDirectionalParticleWidth);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalParticleColor || state.linkColor);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var numCyclePhotons = getNumPhotons(link);\n          if (!link.hasOwnProperty('__photons') || !link.__photons.length) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = getSpeed(link);\n          var photons = link.__photons || [];\n          var photonR = Math.max(0, getDiameter(link) / 2) / Math.sqrt(state.globalScale);\n          var photonColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          ctx.fillStyle = photonColor; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints ? _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y])) : null;\n          var cyclePhotonIdx = 0;\n          var needsCleanup = false; // whether some photons need to be removed from list\n\n          photons.forEach(function (photon) {\n            var singleHop = !!photon.__singleHop;\n\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : cyclePhotonIdx / numCyclePhotons;\n            }\n\n            !singleHop && cyclePhotonIdx++; // increase regular photon index\n\n            photon.__progressRatio += particleSpeed;\n\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                needsCleanup = true;\n                return;\n              }\n            }\n\n            var photonPosRatio = photon.__progressRatio;\n            var coords = bzLine ? bzLine.get(photonPosRatio) // get position along bezier line\n            : {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * photonPosRatio || 0,\n              y: start.y + (end.y - start.y) * photonPosRatio || 0\n            };\n            ctx.beginPath();\n            ctx.arc(coords.x, coords.y, photonR, 0, 2 * Math.PI, false);\n            ctx.fill();\n          });\n\n          if (needsCleanup) {\n            // remove expired single hop photons\n            link.__photons = link.__photons.filter(function (photon) {\n              return !photon.__singleHop || photon.__progressRatio <= 1;\n            });\n          }\n        });\n        ctx.restore();\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link) {\n        !link.__photons && (link.__photons = []);\n\n        link.__photons.push({\n          __singleHop: true\n        }); // add a single hop particle\n\n      }\n\n      return this;\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      forceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(canvasCtx, state) {\n    // Main canvas object to manipulate\n    state.ctx = canvasCtx;\n  },\n  update: function update(state) {\n    state.engineRunning = false; // Pause simulation\n\n    state.onUpdate();\n\n    if (state.nodeAutoColorBy !== null) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n\n    if (state.linkAutoColorBy !== null) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    } // parse links\n\n\n    state.graphData.links.forEach(function (link) {\n      link.source = link[state.linkSource];\n      link.target = link[state.linkTarget];\n    });\n\n    if (!state.isShadow) {\n      // Add photon particles\n      var linkParticlesAccessor = accessorFn(state.linkDirectionalParticles);\n      state.graphData.links.forEach(function (link) {\n        var numPhotons = Math.round(Math.abs(linkParticlesAccessor(link)));\n\n        if (numPhotons) {\n          link.__photons = _toConsumableArray(Array(numPhotons)).map(function () {\n            return {};\n          });\n        } else {\n          delete link.__photons;\n        }\n      });\n    } // Feed data to force-directed layout\n\n\n    state.forceLayout.stop().alpha(1) // re-heat the simulation\n    .nodes(state.graphData.nodes); // add links (if link force is still active)\n\n    var linkForce = state.forceLayout.force('link');\n\n    if (linkForce) {\n      linkForce.id(function (d) {\n        return d[state.nodeId];\n      }).links(state.graphData.links);\n    } // setup dag force constraints\n\n\n    var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n      return node[state.nodeId];\n    }, {\n      nodeFilter: state.dagNodeFilter,\n      onLoopError: state.onDagError || undefined\n    });\n    var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n    var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1); // Fix nodes to x,y for dag mode\n\n    if (state.dagMode) {\n      var getFFn = function getFFn(fix, invert) {\n        return function (node) {\n          return !fix ? undefined : (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n        };\n      };\n\n      var fxFn = getFFn(['lr', 'rl'].indexOf(state.dagMode) !== -1, state.dagMode === 'rl');\n      var fyFn = getFFn(['td', 'bu'].indexOf(state.dagMode) !== -1, state.dagMode === 'bu');\n      state.graphData.nodes.filter(state.dagNodeFilter).forEach(function (node) {\n        node.fx = fxFn(node);\n        node.fy = fyFn(node);\n      });\n    } // Use radial force for radial dags\n\n\n    state.forceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n      var nodeDepth = nodeDepths[node[state.nodeId]] || -1;\n      return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n    }).strength(function (node) {\n      return state.dagNodeFilter(node) ? 1 : 0;\n    }) : null);\n\n    for (var i = 0; i < state.warmupTicks && !(state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin); i++) {\n      state.forceLayout.tick();\n    } // Initial ticks before starting to render\n\n\n    this.resetCountdown();\n    state.onFinishUpdate();\n  }\n});\n\nfunction linkKapsule (kapsulePropNames, kapsuleType) {\n  var propNames = kapsulePropNames instanceof Array ? kapsulePropNames : [kapsulePropNames];\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          propNames.forEach(function (propName) {\n            return state[propName][prop](v);\n          });\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVals = [];\n        propNames.forEach(function (propName) {\n          var kapsuleInstance = state[propName];\n          var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n\n          if (returnVal !== kapsuleInstance) {\n            returnVals.push(returnVal);\n          }\n        });\n        return returnVals.length ? returnVals[0] : this; // chain based on the parent object, not the inner kapsule\n      };\n    }\n  };\n}\n\nvar HOVER_CANVAS_THROTTLE_DELAY = 800; // ms to throttle shadow canvas updates for perf improvement\n\nvar ZOOM2NODES_FACTOR = 4; // Expose config from forceGraph\n\nvar bindFG = linkKapsule('forceGraph', CanvasForceGraph);\nvar bindBoth = linkKapsule(['forceGraph', 'shadowGraph'], CanvasForceGraph);\nvar linkedProps = Object.assign.apply(Object, _toConsumableArray(['nodeColor', 'nodeAutoColorBy', 'nodeCanvasObject', 'nodeCanvasObjectMode', 'linkColor', 'linkAutoColorBy', 'linkLineDash', 'linkWidth', 'linkCanvasObject', 'linkCanvasObjectMode', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'd3AlphaMin', 'd3AlphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})).concat(_toConsumableArray(['nodeRelSize', 'nodeId', 'nodeVal', 'nodeVisibility', 'linkSource', 'linkTarget', 'linkVisibility', 'linkCurvature'].map(function (p) {\n  return _defineProperty({}, p, bindBoth.linkProp(p));\n}))));\nvar linkedMethods = Object.assign.apply(Object, _toConsumableArray(['d3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\nfunction adjustCanvasSize(state) {\n  if (state.canvas) {\n    var curWidth = state.canvas.width;\n    var curHeight = state.canvas.height;\n\n    if (curWidth === 300 && curHeight === 150) {\n      // Default canvas dimensions\n      curWidth = curHeight = 0;\n    }\n\n    var pxScale = window.devicePixelRatio; // 2 on retina displays\n\n    curWidth /= pxScale;\n    curHeight /= pxScale; // Resize canvases\n\n    [state.canvas, state.shadowCanvas].forEach(function (canvas) {\n      // Element size\n      canvas.style.width = \"\".concat(state.width, \"px\");\n      canvas.style.height = \"\".concat(state.height, \"px\"); // Memory size (scaled to avoid blurriness)\n\n      canvas.width = state.width * pxScale;\n      canvas.height = state.height * pxScale; // Normalize coordinate system to use css pixels (on init only)\n\n      if (!curWidth && !curHeight) {\n        canvas.getContext('2d').scale(pxScale, pxScale);\n      }\n    }); // Relative center panning based on 0,0\n\n    var k = zoomTransform(state.canvas).k;\n    state.zoom.translateBy(state.zoom.__baseElem, (state.width - curWidth) / 2 / k, (state.height - curHeight) / 2 / k);\n    state.needsRedraw = true;\n  }\n}\n\nfunction resetTransform(ctx) {\n  var pxRatio = window.devicePixelRatio;\n  ctx.setTransform(pxRatio, 0, 0, pxRatio, 0, 0);\n}\n\nfunction clearCanvas(ctx, width, height) {\n  ctx.save();\n  resetTransform(ctx); // reset transform\n\n  ctx.clearRect(0, 0, width, height);\n  ctx.restore(); //restore transforms\n} //\n\n\nvar forceGraph = Kapsule({\n  props: _objectSpread2({\n    width: {\n      \"default\": window.innerWidth,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    height: {\n      \"default\": window.innerHeight,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(d, state) {\n        [{\n          type: 'Node',\n          objs: d.nodes\n        }, {\n          type: 'Link',\n          objs: d.links\n        }].forEach(hexIndex);\n        state.forceGraph.graphData(d);\n        state.shadowGraph.graphData(d);\n\n        function hexIndex(_ref4) {\n          var type = _ref4.type,\n              objs = _ref4.objs;\n          objs.filter(function (d) {\n            if (!d.hasOwnProperty('__indexColor')) return true;\n            var cur = state.colorTracker.lookup(d.__indexColor);\n            return !cur || !cur.hasOwnProperty('d') || cur.d !== d;\n          }).forEach(function (d) {\n            // store object lookup color\n            d.__indexColor = state.colorTracker.register({\n              type: type,\n              d: d\n            });\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    backgroundColor: {\n      onChange: function onChange(color, state) {\n        state.canvas && color && (state.canvas.style.background = color);\n      },\n      triggerUpdate: false\n    },\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    nodePointerAreaPaint: {\n      onChange: function onChange(paintFn, state) {\n        state.shadowGraph.nodeCanvasObject(!paintFn ? null : function (node, ctx, globalScale) {\n          return paintFn(node, node.__indexColor, ctx, globalScale);\n        });\n        state.flushShadowCanvas && state.flushShadowCanvas();\n      },\n      triggerUpdate: false\n    },\n    linkPointerAreaPaint: {\n      onChange: function onChange(paintFn, state) {\n        state.shadowGraph.linkCanvasObject(!paintFn ? null : function (link, ctx, globalScale) {\n          return paintFn(link, link.__indexColor, ctx, globalScale);\n        });\n        state.flushShadowCanvas && state.flushShadowCanvas();\n      },\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    minZoom: {\n      \"default\": 0.01,\n      onChange: function onChange(minZoom, state) {\n        state.zoom.scaleExtent([minZoom, state.zoom.scaleExtent()[1]]);\n      },\n      triggerUpdate: false\n    },\n    maxZoom: {\n      \"default\": 1000,\n      onChange: function onChange(maxZoom, state) {\n        state.zoom.scaleExtent([state.zoom.scaleExtent()[0], maxZoom]);\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enablePanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomPanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    // to be deprecated\n    enablePointerInteraction: {\n      \"default\": true,\n      onChange: function onChange(_, state) {\n        state.hoverObj = null;\n      },\n      triggerUpdate: false\n    },\n    autoPauseRedraw: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    },\n    onZoom: {\n      triggerUpdate: false\n    },\n    onZoomEnd: {\n      triggerUpdate: false\n    },\n    onRenderFramePre: {\n      triggerUpdate: false\n    },\n    onRenderFramePost: {\n      triggerUpdate: false\n    }\n  }, linkedProps),\n  aliases: {\n    // Prop names supported for backwards compatibility\n    stopAnimation: 'pauseAnimation'\n  },\n  methods: _objectSpread2({\n    graph2ScreenCoords: function graph2ScreenCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: x * t.k + t.x,\n        y: y * t.k + t.y\n      };\n    },\n    screen2GraphCoords: function screen2GraphCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: (x - t.x) / t.k,\n        y: (y - t.y) / t.k\n      };\n    },\n    centerAt: function centerAt(state, x, y, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (x !== undefined || y !== undefined) {\n        var finalPos = Object.assign({}, x !== undefined ? {\n          x: x\n        } : {}, y !== undefined ? {\n          y: y\n        } : {});\n\n        if (!transitionDuration) {\n          // no animation\n          setCenter(finalPos);\n        } else {\n          new TWEEN.Tween(getCenter()).to(finalPos, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setCenter).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getCenter(); //\n\n      function getCenter() {\n        var t = zoomTransform(state.canvas);\n        return {\n          x: (state.width / 2 - t.x) / t.k,\n          y: (state.height / 2 - t.y) / t.k\n        };\n      }\n\n      function setCenter(_ref5) {\n        var x = _ref5.x,\n            y = _ref5.y;\n        state.zoom.translateTo(state.zoom.__baseElem, x === undefined ? getCenter().x : x, y === undefined ? getCenter().y : y);\n        state.needsRedraw = true;\n      }\n    },\n    zoom: function zoom(state, k, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (k !== undefined) {\n        if (!transitionDuration) {\n          // no animation\n          setZoom(k);\n        } else {\n          new TWEEN.Tween({\n            k: getZoom()\n          }).to({\n            k: k\n          }, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (_ref6) {\n            var k = _ref6.k;\n            return setZoom(k);\n          }).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getZoom(); //\n\n      function getZoom() {\n        return zoomTransform(state.canvas).k;\n      }\n\n      function setZoom(k) {\n        state.zoom.scaleTo(state.zoom.__baseElem, k);\n        state.needsRedraw = true;\n      }\n    },\n    zoomToFit: function zoomToFit(state) {\n      var transitionDuration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n\n      var bbox = this.getGraphBbox.apply(this, bboxArgs);\n\n      if (bbox) {\n        var center = {\n          x: (bbox.x[0] + bbox.x[1]) / 2,\n          y: (bbox.y[0] + bbox.y[1]) / 2\n        };\n        var zoomK = Math.max(1e-12, Math.min(1e12, (state.width - padding * 2) / (bbox.x[1] - bbox.x[0]), (state.height - padding * 2) / (bbox.y[1] - bbox.y[0])));\n        this.centerAt(center.x, center.y, transitionDuration);\n        this.zoom(zoomK, transitionDuration);\n      }\n\n      return this;\n    },\n    getGraphBbox: function getGraphBbox(state) {\n      var nodeFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n        return true;\n      };\n      var getVal = accessorFn(state.nodeVal);\n\n      var getR = function getR(node) {\n        return Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize;\n      };\n\n      var nodesPos = state.graphData.nodes.filter(nodeFilter).map(function (node) {\n        return {\n          x: node.x,\n          y: node.y,\n          r: getR(node)\n        };\n      });\n      return !nodesPos.length ? null : {\n        x: [min(nodesPos, function (node) {\n          return node.x - node.r;\n        }), max(nodesPos, function (node) {\n          return node.x + node.r;\n        })],\n        y: [min(nodesPos, function (node) {\n          return node.y - node.r;\n        }), max(nodesPos, function (node) {\n          return node.y + node.r;\n        })]\n      };\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (!state.animationFrameRequestId) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedMethods),\n  stateInit: function stateInit() {\n    return {\n      lastSetZoom: 1,\n      zoom: zoom(),\n      forceGraph: new CanvasForceGraph(),\n      shadowGraph: new CanvasForceGraph().cooldownTicks(0).nodeColor('__indexColor').linkColor('__indexColor').isShadow(true),\n      colorTracker: new ColorTracker() // indexed objects for rgb lookup\n\n    };\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n\n    // Wipe DOM\n    domNode.innerHTML = ''; // Container anchor for canvas and tooltip\n\n    var container = document.createElement('div');\n    container.classList.add('force-graph-container');\n    container.style.position = 'relative';\n    domNode.appendChild(container);\n    state.canvas = document.createElement('canvas');\n    if (state.backgroundColor) state.canvas.style.background = state.backgroundColor;\n    container.appendChild(state.canvas);\n    state.shadowCanvas = document.createElement('canvas'); // Show shadow canvas\n    //state.shadowCanvas.style.position = 'absolute';\n    //state.shadowCanvas.style.top = '0';\n    //state.shadowCanvas.style.left = '0';\n    //container.appendChild(state.shadowCanvas);\n\n    var ctx = state.canvas.getContext('2d');\n    var shadowCtx = state.shadowCanvas.getContext('2d');\n    var pointerPos = {\n      x: -1e12,\n      y: -1e12\n    };\n\n    var getObjUnderPointer = function getObjUnderPointer() {\n      var obj = null;\n      var pxScale = window.devicePixelRatio;\n      var px = pointerPos.x > 0 && pointerPos.y > 0 ? shadowCtx.getImageData(pointerPos.x * pxScale, pointerPos.y * pxScale, 1, 1) : null; // Lookup object per pixel color\n\n      px && (obj = state.colorTracker.lookup(px.data));\n      return obj;\n    }; // Setup node drag interaction\n\n\n    select(state.canvas).call(drag().subject(function () {\n      if (!state.enableNodeDrag) {\n        return null;\n      }\n\n      var obj = getObjUnderPointer();\n      return obj && obj.type === 'Node' ? obj.d : null; // Only drag nodes\n    }).on('start', function (ev) {\n      var obj = ev.subject;\n      obj.__initialDragPos = {\n        x: obj.x,\n        y: obj.y,\n        fx: obj.fx,\n        fy: obj.fy\n      }; // keep engine running at low intensity throughout drag\n\n      if (!ev.active) {\n        obj.fx = obj.x;\n        obj.fy = obj.y; // Fix points\n      } // drag cursor\n\n\n      state.canvas.classList.add('grabbable');\n    }).on('drag', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var dragPos = ev;\n      var k = zoomTransform(state.canvas).k;\n      var translate = {\n        x: initPos.x + (dragPos.x - initPos.x) / k - obj.x,\n        y: initPos.y + (dragPos.y - initPos.y) / k - obj.y\n      }; // Move fx/fy (and x/y) of nodes based on the scaled drag distance since the drag start\n\n      ['x', 'y'].forEach(function (c) {\n        return obj[\"f\".concat(c)] = obj[c] = initPos[c] + (dragPos[c] - initPos[c]) / k;\n      }); // prevent freeze while dragging\n\n      state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n      .resetCountdown(); // prevent freeze while dragging\n\n      state.isPointerDragging = true;\n      obj.__dragged = true;\n      state.onNodeDrag(obj, translate);\n    }).on('end', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var translate = {\n        x: obj.x - initPos.x,\n        y: obj.y - initPos.y\n      };\n\n      if (initPos.fx === undefined) {\n        obj.fx = undefined;\n      }\n\n      if (initPos.fy === undefined) {\n        obj.fy = undefined;\n      }\n\n      delete obj.__initialDragPos;\n\n      if (state.forceGraph.d3AlphaTarget()) {\n        state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n        .resetCountdown(); // let the engine readjust after releasing fixed nodes\n      } // drag cursor\n\n\n      state.canvas.classList.remove('grabbable');\n      state.isPointerDragging = false;\n\n      if (obj.__dragged) {\n        delete obj.__dragged;\n        state.onNodeDragEnd(obj, translate);\n      }\n    })); // Setup zoom / pan interaction\n\n    state.zoom(state.zoom.__baseElem = select(state.canvas)); // Attach controlling elem for easy access\n\n    state.zoom.__baseElem.on('dblclick.zoom', null); // Disable double-click to zoom\n\n\n    state.zoom.filter(function (ev) {\n      return (// disable zoom interaction\n        !ev.button && state.enableZoomPanInteraction && (state.enableZoomInteraction || ev.type !== 'wheel') && (state.enablePanInteraction || ev.type === 'wheel')\n      );\n    }).on('zoom', function (ev) {\n      var t = ev.transform;\n      [ctx, shadowCtx].forEach(function (c) {\n        resetTransform(c);\n        c.translate(t.x, t.y);\n        c.scale(t.k, t.k);\n      });\n      state.onZoom && state.onZoom(_objectSpread2(_objectSpread2({}, t), _this.centerAt())); // report x,y coordinates relative to canvas center\n\n      state.needsRedraw = true;\n    }).on('end', function (ev) {\n      return state.onZoomEnd && state.onZoomEnd(_objectSpread2(_objectSpread2({}, ev.transform), _this.centerAt()));\n    });\n    adjustCanvasSize(state);\n    state.forceGraph.onNeedsRedraw(function () {\n      return state.needsRedraw = true;\n    }).onFinishUpdate(function () {\n      // re-zoom, if still in default position (not user modified)\n      if (zoomTransform(state.canvas).k === state.lastSetZoom && state.graphData.nodes.length) {\n        state.zoom.scaleTo(state.zoom.__baseElem, state.lastSetZoom = ZOOM2NODES_FACTOR / Math.cbrt(state.graphData.nodes.length));\n        state.needsRedraw = true;\n      }\n    }); // Setup tooltip\n\n    var toolTipElem = document.createElement('div');\n    toolTipElem.classList.add('graph-tooltip');\n    container.appendChild(toolTipElem); // Capture pointer coords on move or touchstart\n\n    ['pointermove', 'pointerdown'].forEach(function (evType) {\n      return container.addEventListener(evType, function (ev) {\n        if (evType === 'pointerdown') {\n          state.isPointerPressed = true; // track click state\n\n          state.pointerDownEvent = ev;\n        } // detect pointer drag on canvas pan\n\n\n        !state.isPointerDragging && ev.type === 'pointermove' && state.onBackgroundClick // only bother detecting drags this way if background clicks are enabled (so they don't trigger accidentally on canvas panning)\n        && (ev.pressure > 0 || state.isPointerPressed) // ev.pressure always 0 on Safari, so we use the isPointerPressed tracker\n        && (ev.pointerType !== 'touch' || ev.movementX === undefined || [ev.movementX, ev.movementY].some(function (m) {\n          return Math.abs(m) > 1;\n        })) // relax drag trigger sensitivity on touch events\n        && (state.isPointerDragging = true); // update the pointer pos\n\n        var offset = getOffset(container);\n        pointerPos.x = ev.pageX - offset.left;\n        pointerPos.y = ev.pageY - offset.top; // Move tooltip\n\n        toolTipElem.style.top = \"\".concat(pointerPos.y, \"px\");\n        toolTipElem.style.left = \"\".concat(pointerPos.x, \"px\"); //\n\n        function getOffset(el) {\n          var rect = el.getBoundingClientRect(),\n              scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n              scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n          return {\n            top: rect.top + scrollTop,\n            left: rect.left + scrollLeft\n          };\n        }\n      }, {\n        passive: true\n      });\n    }); // Handle click/touch events on nodes/links\n\n    container.addEventListener('pointerup', function (ev) {\n      state.isPointerPressed = false;\n\n      if (state.isPointerDragging) {\n        state.isPointerDragging = false;\n        return; // don't trigger click events after pointer drag (pan / node drag functionality)\n      }\n\n      var cbEvents = [ev, state.pointerDownEvent];\n      requestAnimationFrame(function () {\n        // trigger click events asynchronously, to allow hoverObj to be set (on frame)\n        if (ev.button === 0) {\n          // mouse left-click or touch\n          if (state.hoverObj) {\n            var fn = state[\"on\".concat(state.hoverObj.type, \"Click\")];\n            fn && fn.apply(void 0, [state.hoverObj.d].concat(cbEvents));\n          } else {\n            state.onBackgroundClick && state.onBackgroundClick.apply(state, cbEvents);\n          }\n        }\n\n        if (ev.button === 2) {\n          // mouse right-click\n          if (state.hoverObj) {\n            var _fn = state[\"on\".concat(state.hoverObj.type, \"RightClick\")];\n            _fn && _fn.apply(void 0, [state.hoverObj.d].concat(cbEvents));\n          } else {\n            state.onBackgroundRightClick && state.onBackgroundRightClick.apply(state, cbEvents);\n          }\n        }\n      });\n    }, {\n      passive: true\n    });\n    container.addEventListener('contextmenu', function (ev) {\n      if (!state.onBackgroundRightClick && !state.onNodeRightClick && !state.onLinkRightClick) return true; // default contextmenu behavior\n\n      ev.preventDefault();\n      return false;\n    });\n    state.forceGraph(ctx);\n    state.shadowGraph(shadowCtx); //\n\n    var refreshShadowCanvas = throttle(function () {\n      // wipe canvas\n      clearCanvas(shadowCtx, state.width, state.height); // Adjust link hover area\n\n      state.shadowGraph.linkWidth(function (l) {\n        return accessorFn(state.linkWidth)(l) + state.linkHoverPrecision;\n      }); // redraw\n\n      var t = zoomTransform(state.canvas);\n      state.shadowGraph.globalScale(t.k).tickFrame();\n    }, HOVER_CANVAS_THROTTLE_DELAY);\n    state.flushShadowCanvas = refreshShadowCanvas.flush; // hook to immediately invoke shadow canvas paint\n    // Kick-off renderer\n\n    (this._animationCycle = function animate() {\n      // IIFE\n      var doRedraw = !state.autoPauseRedraw || !!state.needsRedraw || state.forceGraph.isEngineRunning() || state.graphData.links.some(function (d) {\n        return d.__photons && d.__photons.length;\n      });\n      state.needsRedraw = false;\n\n      if (state.enablePointerInteraction) {\n        // Update tooltip and trigger onHover events\n        var obj = !state.isPointerDragging ? getObjUnderPointer() : null; // don't hover during drag\n\n        if (obj !== state.hoverObj) {\n          var prevObj = state.hoverObj;\n          var prevObjType = prevObj ? prevObj.type : null;\n          var objType = obj ? obj.type : null;\n\n          if (prevObjType && prevObjType !== objType) {\n            // Hover out\n            var fn = state[\"on\".concat(prevObjType, \"Hover\")];\n            fn && fn(null, prevObj.d);\n          }\n\n          if (objType) {\n            // Hover in\n            var _fn2 = state[\"on\".concat(objType, \"Hover\")];\n            _fn2 && _fn2(obj.d, prevObjType === objType ? prevObj.d : null);\n          }\n\n          var tooltipContent = obj ? accessorFn(state[\"\".concat(obj.type.toLowerCase(), \"Label\")])(obj.d) || '' : '';\n          toolTipElem.style.visibility = tooltipContent ? 'visible' : 'hidden';\n          toolTipElem.innerHTML = tooltipContent; // set pointer if hovered object is clickable\n\n          state.canvas.classList[obj && state[\"on\".concat(objType, \"Click\")] || !obj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n          state.hoverObj = obj;\n        }\n\n        doRedraw && refreshShadowCanvas();\n      }\n\n      if (doRedraw) {\n        // Wipe canvas\n        clearCanvas(ctx, state.width, state.height); // Frame cycle\n\n        var globalScale = zoomTransform(state.canvas).k;\n        state.onRenderFramePre && state.onRenderFramePre(ctx, globalScale);\n        state.forceGraph.globalScale(globalScale).tickFrame();\n        state.onRenderFramePost && state.onRenderFramePost(ctx, globalScale);\n      }\n\n      TWEEN.update(); // update canvas animation tweens\n\n      state.animationFrameRequestId = requestAnimationFrame(animate);\n    })();\n  },\n  update: function updateFn(state) {}\n});\n\nexport { forceGraph as default };\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      if (nDim>1) { node.vy += dy * k; }\n      if (nDim>2) { node.vz += dz * k; }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(initNodes, ...args) {\n    nodes = initNodes;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}\n","import fromKapsule from 'react-kapsule';\nimport ForceGraph2DKapsule from 'force-graph';\nimport PropTypes from 'prop-types';\n\nconst commonPropTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  graphData: PropTypes.shape({\n    nodes: PropTypes.arrayOf(PropTypes.object).isRequired,\n    links: PropTypes.arrayOf(PropTypes.object).isRequired\n  }),\n  backgroundColor: PropTypes.string,\n  nodeRelSize: PropTypes.number,\n  nodeId: PropTypes.string,\n  nodeLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeVal: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  nodeVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  nodeColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onNodeHover: PropTypes.func,\n  onNodeClick: PropTypes.func,\n  linkSource: PropTypes.string,\n  linkTarget: PropTypes.string,\n  linkLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkCurvature: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowLength: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowRelPos: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticles: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleSpeed: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onLinkHover: PropTypes.func,\n  onLinkClick: PropTypes.func,\n  dagMode: PropTypes.oneOf(['td', 'bu', 'lr', 'rl', 'zin', 'zout', 'radialin', 'radialout']),\n  dagLevelDistance: PropTypes.number,\n  dagNodeFilter: PropTypes.func,\n  onDagError: PropTypes.func,\n  d3AlphaMin: PropTypes.number,\n  d3AlphaDecay: PropTypes.number,\n  d3VelocityDecay: PropTypes.number,\n  warmupTicks: PropTypes.number,\n  cooldownTicks: PropTypes.number,\n  cooldownTime: PropTypes.number,\n  onEngineTick: PropTypes.func,\n  onEngineStop: PropTypes.func,\n  getGraphBbox: PropTypes.func\n};\nconst pointerBasedPropTypes = {\n  zoomToFit: PropTypes.func,\n  onNodeRightClick: PropTypes.func,\n  onNodeDrag: PropTypes.func,\n  onNodeDragEnd: PropTypes.func,\n  onLinkRightClick: PropTypes.func,\n  linkHoverPrecision: PropTypes.number,\n  onBackgroundClick: PropTypes.func,\n  onBackgroundRightClick: PropTypes.func,\n  enablePointerInteraction: PropTypes.bool,\n  enableNodeDrag: PropTypes.bool\n};\nconst threeBasedPropTypes = {\n  showNavInfo: PropTypes.bool,\n  nodeOpacity: PropTypes.number,\n  nodeResolution: PropTypes.number,\n  nodeThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  nodeThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkOpacity: PropTypes.number,\n  linkResolution: PropTypes.number,\n  linkCurveRotation: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkMaterial: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkPositionUpdate: PropTypes.func,\n  linkDirectionalArrowResolution: PropTypes.number,\n  linkDirectionalParticleResolution: PropTypes.number,\n  forceEngine: PropTypes.oneOf(['d3', 'ngraph']),\n  ngraphPhysics: PropTypes.object,\n  numDimensions: PropTypes.oneOf([1, 2, 3])\n};\nconst ForceGraph2DPropTypes = Object.assign({}, commonPropTypes, pointerBasedPropTypes, {\n  linkLineDash: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.string, PropTypes.func]),\n  nodeCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeCanvasObject: PropTypes.func,\n  nodePointerAreaPaint: PropTypes.func,\n  linkCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkCanvasObject: PropTypes.func,\n  linkPointerAreaPaint: PropTypes.func,\n  autoPauseRedraw: PropTypes.bool,\n  minZoom: PropTypes.number,\n  maxZoom: PropTypes.number,\n  enableZoomInteraction: PropTypes.bool,\n  enablePanInteraction: PropTypes.bool,\n  onZoom: PropTypes.func,\n  onZoomEnd: PropTypes.func,\n  onRenderFramePre: PropTypes.func,\n  onRenderFramePost: PropTypes.func\n});\nObject.assign({}, commonPropTypes, pointerBasedPropTypes, threeBasedPropTypes, {\n  enableNavigationControls: PropTypes.bool,\n  controlType: PropTypes.oneOf(['trackball', 'orbit', 'fly']),\n  rendererConfig: PropTypes.object,\n  extraRenderers: PropTypes.arrayOf(PropTypes.shape({\n    render: PropTypes.func.isRequired\n  }))\n});\nObject.assign({}, commonPropTypes, threeBasedPropTypes, {\n  nodeDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n});\nObject.assign({}, commonPropTypes, threeBasedPropTypes, {\n  markerAttrs: PropTypes.object,\n  yOffset: PropTypes.number,\n  glScale: PropTypes.number\n});\n\nconst ForceGraph2D = fromKapsule(ForceGraph2DKapsule, {\n  methodNames: [// bind methods\n  'emitParticle', 'd3Force', 'd3ReheatSimulation', 'stopAnimation', 'pauseAnimation', 'resumeAnimation', 'centerAt', 'zoom', 'zoomToFit', 'getGraphBbox', 'screen2GraphCoords', 'graph2ScreenCoords']\n});\nForceGraph2D.displayName = 'ForceGraph2D';\nForceGraph2D.propTypes = ForceGraph2DPropTypes;\n\nexport default ForceGraph2D;\n","// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n"],"names":["debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","module","exports","iterable","reduce","obj","key","val","FUNC_ERROR_TEXT","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","Object","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","isObject","value","type","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","options","leading","trailing","TypeError","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","undefined","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","isInvoking","cancel","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bool","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","push","length","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","constructor","from","len","arr2","omit","keys","keySet","Set","assign","concat","_arrayWithoutHoles","entries","filter","_ref2","has","map","_ref4","_ref5","defineProperty","enumerable","configurable","writable","_defineProperty","iter","_iterableToArray","_nonIterableSpread","_typeof","x","DragEvent","sourceEvent","subject","target","identifier","active","y","dx","dy","dispatch","defineProperties","_","defaultFilter","event","ctrlKey","button","defaultContainer","parentNode","defaultSubject","d","defaultTouchable","navigator","maxTouchPoints","values","valueof","index","on","a","Easing","Linear","None","amount","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","now$1","process","hrtime","performance","bind","getTime","Group","_tweens","_tweensAddedDuringUpdate","getAll","_this","tweenId","removeAll","add","tween","getId","remove","update","preserve","tweenIds","autoStart","Interpolation","v","k","m","f","floor","fn","Utils","Bezier","b","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","p2","p3","v0","v1","t2","Sequence","nextId","_nextId","mainGroup","Tween","_object","_group","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_initialRepeat","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_id","_isChainStopped","_goToEnd","isPlaying","isPaused","to","properties","duration","create","start","property","_swapEndStartRepeatValues","parseFloat","_setupProperties","startValue","startValueIsArray","propType","isInterpolationList","endValues","_handleRelativeValue","reverse","prop","stop","stopChainedTweens","_onStopCallback","end","Infinity","pause","resume","numChainedTweens","group","delay","repeat","times","repeatDelay","_repeatDelayTime","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","tweens","onStart","callback","_onStartCallback","onUpdate","_onUpdateCallback","onRepeat","_onRepeatCallback","onComplete","_onCompleteCallback","onStop","elapsed","endTime","_updateProperties","isFinite","startIsArray","endIsArray","charAt","tmp","endValue","TWEEN","VERSION","Prop","_ref","_ref$default","defaultVal","_ref$triggerUpdate","triggerUpdate","_ref$onChange","onChange","newVal","state","instance","Constructor","_classCallCheck","_ref2$stateInit","stateInit","_ref2$props","rawProps","_ref2$methods","methods","_ref2$aliases","aliases","_ref2$init","init","initFn","_ref2$update","updateFn","initialised","changedProps","comp","nodeElement","initStatic","digest","forEach","_ref3","_ref3$triggerUpdate","redigest","_ref3$onChange","_ref3$defaultVal","curVal","hasOwnProperty","getSetProp","methodName","_methods$methodName","_len","_key","alias","resetProps","_rerender","p","_defineProperties","descriptor","rgb2Int","r","checksum","csBits","_default","registry","protoProps","num","idx","color","padStart","str","_tinyColor$toRgb","toRgb","cs","z","initialAngleRoll","initialAngleYaw","nodes","numDimensions","simulation","nDim","round","alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","Map","stepper","timer","step","random","lcg","tick","iterations","force","fx","vx","fy","vy","fz","vz","initializeNodes","isNaN","radius","cbrt","rollAngle","yawAngle","initializeForce","initialize","restart","randomSource","delete","set","get","find","dz","d2","closest","shift","nodeById","nodeId","links","strengths","distances","count","bias","id","strength","link","source","distance","l","jiggle","initializeStrength","initializeDistance","_nodes","arg","includes","tree","parent","xm","xp","right","j","_root","leaf","data","x0","_x0","x1","_x1","_x","defaultX","binarytree","Binarytree","NaN","addAll","leaf_copy","copy","treeProto","ym","yp","bottom","y0","_y0","y1","_y1","_y","defaultY","quadtree","Quadtree","child","pop","cover","xz","visit","extent","x2","q","x3","halves","abs","retainer","previous","size","visitAfter","zm","zp","deep","z0","_z0","z1","_z1","_z","defaultZ","octree","Octree","yz","y2","y3","quads","distanceMin2","distanceMax2","theta2","accumulate","treeNode","c","weight","numChildren","arg1","arg2","arg3","w","distanceMin","distanceMax","theta","sx","sy","sz","zz","z2","z3","octs","acos","atan2","crt","pi","tau","quart","nMax","Number","MAX_SAFE_INTEGER","nMin","MIN_SAFE_INTEGER","ZERO","utils","Tvalues","Cvalues","arcfn","derivativeFn","compute","points","_3d","order","mt","ret","mt2","dCpts","JSON","parse","stringify","splice","computeWithRatios","ratios","f1","f2","f3","f4","derive","dpoints","list","dpt","between","M","approximately","precision","sum","ds","de","ts","te","lerp","v2","pointToString","pointsToString","join","angle","dx1","dy1","dx2","dy2","pos","indexOf","substring","dist","LUT","point","mpos","mdist","abcratio","projectionratio","top","lli8","x4","y4","lli4","p4","lli","makeline","findbbox","sections","mx","my","MX","MY","bbox","mid","shapeintersections","s1","bbox1","s2","bbox2","curveIntersectionThreshold","bboxoverlap","intersections","a1","startcap","forward","back","endcap","a2","l1","virtual","l2","iss","intersects","c1","c2","makeshape","bpl","fpl","getminmax","curve","align","line","tx","ty","roots","aligned","m1","m2","pa","pb","pc","q2","discriminant","u1","mp3","phi","t1","sd","droots","curvature","d1","kOnly","dnm","adk","dk","dd","qdsum","pk","nk","inflections","v3","trm","sq","b1","b2","dims","dim","expandbox","_bbox","pairiteration","c1b","c2b","threshold","_t1","_t2","cc1","split","cc2","pairs","left","pair","results","getccenter","dx1p","dy1p","dx2p","dy2p","mx1","my1","mx2","my2","mx1n","my1n","mx2n","my2n","arc","e","numberSort","PolyBezier","curves","addCurve","offset","coords","coordlen","newargs","higher","dimlen","_linear","some","_lut","abc","getABC","A","S","B","E","C","selen","lx","ly","bx1","by1","bx2","by2","e1","e2","nc1","nc2","getUtils","toSVG","setRatios","verify","print","coordDigest","_print","computedirection","clockwise","derivative","u","um","getLUT","steps","error","lut","hits","project","ft","raise","np","pim","dderivative","normal","__normal3","__normal2","r1","r2","q1","R","hull","_p","pt","span","extrema","mfn","sort","overlaps","lbbox","tbbox","nv","scale","simple","n1","n2","segment","pass1","pass2","distanceFn","ov","rc","outline","d3","d4","reduced","fcurves","bcurves","alen","tlen","graduated","linearDistanceFunction","slen","fs","fe","bs","be","ls","le","segments","outlineshapes","shapes","lineIntersects","curveintersects","selfintersects","arcs","errorThreshold","_iterate","_error","np1","ref","circles","safety","t_s","t_e","np2","np3","prev_arc","curr_good","prev_good","t_m","prev_e","interval","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_toPropertyKey","input","hint","prim","toPrimitive","res","String","_toPrimitive","InternMap","keyof","super","_intern","intern_get","intern_set","intern_delete","initRange","domain","range","implicit","specifier","colors","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","_setPrototypeOf","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_construct","Parent","Class","css","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","autoColorScale","ordinal","unknown","autoColorObjects","objects","colorByAccessor","colorField","notifyRedraw","onNeedsRedraw","CanvasForceGraph","graphData","engineRunning","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeVal","nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","nodeVisibility","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCurvature","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","globalScale","d3AlphaMin","d3AlphaDecay","forceLayout","d3AlphaTarget","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onFinishUpdate","onEngineTick","onEngineStop","isShadow","d3Force","forceName","forceFn","d3ReheatSimulation","resetCountdown","cntTicks","startTickTime","isEngineRunning","tickFrame","getLength","getRelPos","getVisibility","getColor","getNodeVal","ctx","getWidth","getLineDash","getCurvature","getLinkCanvasObjectMode","padAmount","visibleLinks","cp","__controlPoints","beforeCustomLinks","afterCustomLinks","defaultPaintLinks","replaceCustomLinks","otherCustomLinks","before","after","save","restore","linksPerColor","keyAccessors","multiItem","flattenKeys","keyAccessor","isProp","indexedResult","item","iterObj","itemVal","_itemVal","propVal","rest","level","flatten","accKeys","vals","linksPerWidth","lineColor","width","linesPerLineDash","lineWidth","_ref6","lineDashSegments","beginPath","moveTo","controlPoints","lineTo","strokeStyle","setLineDash","stroke","paintLinks","arrowLength","startR","endR","arrowRelPos","arrowColor","arrowHalfWidth","bzLine","getCoordsAlongLine","lineLen","posAlongLine","arrowHead","arrowTail","arrowTailVertex","arrowTailAngle","fillStyle","fill","getNumPhotons","getSpeed","getDiameter","numCyclePhotons","__photons","particleSpeed","photons","photonR","photonColor","cyclePhotonIdx","needsCleanup","photon","singleHop","__singleHop","__progressRatio","photonPosRatio","paintPhotons","getVal","getNodeCanvasObjectMode","visibleNodes","paintNodes","emitParticle","canvasCtx","linkParticlesAccessor","numPhotons","linkForce","nodeDepths","idAccessor","_ref2$nodeFilter","nodeFilter","_ref2$onLoopError","onLoopError","loopIds","graph","out","depth","skip","sourceId","getNodeId","targetId","sourceNode","targetNode","foundLoops","traverse","_ref7","nodeStack","currentDepth","loop","foundLoop","every","getDagDepths","maxDepth","getFFn","fix","invert","fxFn","fyFn","radiuses","initNodes","nodeDepth","linkKapsule","kapsulePropNames","kapsuleType","propNames","dummyK","linkProp","linkMethod","method","returnVals","kapsuleInstance","returnVal","bindFG","bindBoth","linkedProps","linkedMethods","adjustCanvasSize","canvas","curWidth","curHeight","height","pxScale","window","devicePixelRatio","shadowCanvas","getContext","zoom","translateBy","__baseElem","needsRedraw","resetTransform","pxRatio","setTransform","clearCanvas","clearRect","forceGraph","innerWidth","innerHeight","objs","cur","colorTracker","lookup","__indexColor","register","shadowGraph","backgroundColor","background","nodeLabel","nodePointerAreaPaint","paintFn","flushShadowCanvas","linkPointerAreaPaint","linkLabel","linkHoverPrecision","minZoom","scaleExtent","maxZoom","enableNodeDrag","enableZoomInteraction","enablePanInteraction","enableZoomPanInteraction","enablePointerInteraction","hoverObj","autoPauseRedraw","onNodeDrag","onNodeDragEnd","onNodeClick","onNodeRightClick","onNodeHover","onLinkClick","onLinkRightClick","onLinkHover","onBackgroundClick","onBackgroundRightClick","onZoom","onZoomEnd","onRenderFramePre","onRenderFramePost","stopAnimation","graph2ScreenCoords","screen2GraphCoords","centerAt","transitionDuration","finalPos","getCenter","setCenter","translateTo","getZoom","setZoom","scaleTo","zoomToFit","padding","bboxArgs","getGraphBbox","center","zoomK","getR","nodesPos","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","_destructor","lastSetZoom","domNode","innerHTML","container","classList","position","shadowCtx","pointerPos","getObjUnderPointer","px","getImageData","mousedownx","mousedowny","mousemoving","touchending","touchable","gestures","listeners","clickDistance2","drag","selection","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","view","mousemoved","mouseupped","nodrag","clientX","clientY","noevent","mouse","touches","changedTouches","that","touch","pointer","constant","clickDistance","ev","__initialDragPos","initPos","dragPos","translate","isPointerDragging","__dragged","transform","toolTipElem","evType","addEventListener","isPointerPressed","pointerDownEvent","pressure","pointerType","movementX","movementY","rect","scrollLeft","scrollTop","getBoundingClientRect","pageXOffset","documentElement","pageYOffset","pageX","pageY","passive","cbEvents","requestAnimationFrame","_fn","preventDefault","refreshShadowCanvas","animate","doRedraw","prevObj","prevObjType","objType","_fn2","tooltipContent","toLowerCase","visibility","commonPropTypes","pointerBasedPropTypes","threeBasedPropTypes","showNavInfo","nodeOpacity","nodeResolution","nodeThreeObject","nodeThreeObjectExtend","linkOpacity","linkResolution","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowResolution","linkDirectionalParticleResolution","forceEngine","ngraphPhysics","ForceGraph2DPropTypes","enableNavigationControls","controlType","rendererConfig","extraRenderers","render","nodeDesc","linkDesc","markerAttrs","yOffset","glScale","ForceGraph2D","kapsuleComponent","comboParam","wrapperElementType","methodNames","initPropNames","_ref$wrapperElementTy","_ref$nodeMapper","nodeMapper","_ref$methodNames","_ref$initPropNames","forwardRef","domEl","useRef","_useState2","useState","prevProps","setPrevProps","useEffect","useMemo","configOptions","useLayoutEffect","current","_call","useCallback","dynamicProps","useImperativeHandle","_len2","_key2","displayName","propTypes","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","opts","rgb","ok","format","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","substr","convertToPercentage","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","rgbaToArgbHex","convertDecimalToHex","desaturate","toHsl","clamp01","saturate","greyscale","lighten","brighten","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","slices","part","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","isReadable","wcag2","wcag2Parms","parms","toUpperCase","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","isOnePointZero","processPercent","isPercentage","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","noop","Dispatch","parseTypenames","typenames","types","trim","typename","T","__noselect","MozUserSelect","yesdrag","noclick","nonpassive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","selector","matches","childMatcher","prefix","space","local","xhtml","svg","xlink","xml","xmlns","currentTarget","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","querySelector","childFirst","firstElementChild","children","EnterNode","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","ascending","querySelectorAll","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","propertyRemove","propertyConstant","propertyFunction","classArray","ClassList","_node","_names","getAttribute","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","nextSibling","lower","previousSibling","contains","creatorInherit","uri","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","onRemove","__on","removeEventListener","listener","onAdd","contextListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","exitGroup","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","groups0","groups1","m0","merges","group0","group1","compareDocumentPosition","compare","compareNode","sortgroups","sortgroup","empty","each","attr","getAttributeNS","classed","text","html","creator","insert","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","none","defaultView","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","_time","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","emptyOn","emptyTween","timing","schedules","__transition","ease","schedule","svgNode","degrees","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","atan","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","color_formatHex","formatHex","color_formatRgb","formatRgb","rgbn","Rgb","rgbConvert","opacity","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","t3","channels","displayable","formatHsl","nogamma","linear","rgbGamma","exponential","gamma","rgbSpline","spline","reA","reB","am","bm","bi","lastIndex","one","zero","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","easeVarying","Promise","resolve","reject","interrupt","defaultTiming","cosh","exp","zoomRho","rho","rho2","rho4","ux0","uy0","w0","ux1","uy1","w1","log","b0","r0","coshr0","sinh","SQRT2","_1","_2","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleX","rescaleY","__zoom","defaultExtent","SVGElement","hasAttribute","viewBox","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","translateExtent","dx0","dy0","touchstarting","touchfirst","constrain","wheelDelta","touchDelay","tapDistance","wheeled","dblclicked","centroid","clean","__zooming","Gesture","taps","wheel","wheelidled","moved","k1","shiftKey","started","touch0","touch1","l0","dp","dl","hypot","collection","scaleBy","k0","emit"],"sourceRoot":""}