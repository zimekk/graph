{"version":3,"file":"383.js","mappings":"8RAWIA,EAAU,GAEdA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKnB,QAAe,KAAW,WAAiB,gBAAiBM,ECpB5D,SAASC,GAAM,KAAEC,IACtB,MAAMC,GAAcC,EAAAA,EAAAA,QAAO,MA0B3B,OAxBAC,EAAAA,EAAAA,YAAU,KACR,GAAIH,GAAQC,EAAYG,QAAS,CAC/B,MAGMC,EAHMC,EAAAA,GAAUL,EAAYG,SAGfG,OAAO,KAAKC,UAAU,QAAQR,KAAKA,GAGtDK,EACGI,QACAF,OAAO,QACPG,KAAK,KAAK,CAACC,EAAGC,IAAU,GAAJA,IACpBF,KAAK,IAAK,IACVG,MAAM,YAAa,IACnBC,MAAMH,GAAcA,IAGvBN,EAAOK,KAAK,KAAK,CAACC,EAAGC,IAAU,GAAJA,IAAQE,MAAMH,GAAcA,IAGvDN,EAAOU,OAAOC,YAEf,CAAChB,EAAMC,EAAYG,UAGpB,uBAAKa,UAAU,eAAeC,MAAO,IAAKC,OAAQ,IAAKC,IAAKnB,IAKjD,SAASoB,IACtB,OACE,2BAASJ,UAAWK,EAAAA,SAClB,mCAEA,gBAAC,IAAD,CACEC,UAAWC,EAAQ,KACnBC,gBAAgB,QAChBC,iBAAkB,CAACC,EAAMC,EAAKC,KAC5B,MAAMC,EAAQH,EAAKI,GACbC,EAAW,GAAKH,EACtBD,EAAIK,KAAQ,GAAED,iBACd,MACME,EAAiB,CADLN,EAAIO,YAAYL,GAAOZ,MACNc,GAAUI,KAC1CC,GAAMA,EAAe,GAAXL,IAGbJ,EAAIU,UAAY,2BAChBV,EAAIW,SACFZ,EAAKa,EAAIN,EAAe,GAAK,EAC7BP,EAAKc,EAAIP,EAAe,GAAK,KAC1BA,GAGLN,EAAIc,UAAY,SAChBd,EAAIe,aAAe,SACnBf,EAAIU,UAAYX,EAAKiB,MACrBhB,EAAIiB,SAASf,EAAOH,EAAKa,EAAGb,EAAKc,GAEjCd,EAAKmB,iBAAmBZ,GAE1Ba,qBAAsB,CAACpB,EAAMiB,EAAOhB,KAClCA,EAAIU,UAAYM,EAChB,MAAMV,EAAiBP,EAAKmB,iBAC5BZ,GACEN,EAAIW,SACFZ,EAAKa,EAAIN,EAAe,GAAK,EAC7BP,EAAKc,EAAIP,EAAe,GAAK,KAC1BA,S,8DC1Ebc,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOnB,GAAI,6GAA8G,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gDAAgD,MAAQ,GAAG,SAAW,uDAAuD,eAAiB,CAAC,uHAAuH,WAAa,MAErciB,EAAwBG,OAAS,CAChC,QAAW,wBAEZ,W","sources":["webpack://@dev/web/./src/containers/Graph.module.scss?20b8","webpack://@dev/web/./src/containers/Graph.tsx","webpack://@dev/web/./src/containers/Graph.module.scss"],"sourcesContent":["\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Graph.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Graph.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport ForceGraph2D from \"react-force-graph-2d\";\nimport styles from \"./Graph.module.scss\";\n\n// https://medium.com/@jeffbutsch/using-d3-in-react-with-hooks-4a6c61f1d102\nexport function Graph({ data }) {\n  const d3Container = useRef(null);\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      const svg = d3.select(d3Container.current);\n\n      // Bind D3 data\n      const update = svg.append(\"g\").selectAll(\"text\").data(data);\n\n      // Enter new D3 elements\n      update\n        .enter()\n        .append(\"text\")\n        .attr(\"x\", (d, i) => i * 25)\n        .attr(\"y\", 40)\n        .style(\"font-size\", 24)\n        .text((d: number) => d);\n\n      // Update existing D3 elements\n      update.attr(\"x\", (d, i) => i * 40).text((d: number) => d);\n\n      // Remove old D3 elements\n      update.exit().remove();\n    }\n  }, [data, d3Container.current]);\n\n  return (\n    <svg className=\"d3-component\" width={400} height={200} ref={d3Container} />\n  );\n}\n\n// https://github.com/vasturiano/react-force-graph/blob/master/example/text-nodes/index-2d.html\nexport default function Section() {\n  return (\n    <section className={styles.Section}>\n      <h2>Graph</h2>\n      {/* <Graph data={[1, 2, 3]} /> */}\n      <ForceGraph2D\n        graphData={require(\"../assets/datasets/miserables.json\")}\n        nodeAutoColorBy=\"group\"\n        nodeCanvasObject={(node, ctx, globalScale) => {\n          const label = node.id;\n          const fontSize = 12 / globalScale;\n          ctx.font = `${fontSize}px Sans-Serif`;\n          const textWidth = ctx.measureText(label).width;\n          const bckgDimensions = [textWidth, fontSize].map(\n            (n) => n + fontSize * 0.2\n          ); // some padding\n\n          ctx.fillStyle = \"rgba(255, 255, 255, 0.8)\";\n          ctx.fillRect(\n            node.x - bckgDimensions[0] / 2,\n            node.y - bckgDimensions[1] / 2,\n            ...bckgDimensions\n          );\n\n          ctx.textAlign = \"center\";\n          ctx.textBaseline = \"middle\";\n          ctx.fillStyle = node.color;\n          ctx.fillText(label, node.x, node.y);\n\n          node.__bckgDimensions = bckgDimensions; // to re-use in nodePointerAreaPaint\n        }}\n        nodePointerAreaPaint={(node, color, ctx) => {\n          ctx.fillStyle = color;\n          const bckgDimensions = node.__bckgDimensions;\n          bckgDimensions &&\n            ctx.fillRect(\n              node.x - bckgDimensions[0] / 2,\n              node.y - bckgDimensions[1] / 2,\n              ...bckgDimensions\n            );\n        }}\n      />\n    </section>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".xYdS0IxW8Xrsb30ui_UV{color:blue}.xYdS0IxW8Xrsb30ui_UV svg{height:500px;width:500px;border:1px solid gray}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Graph.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,UAAA,CAEA,0BACE,YAAA,CACA,WAAA,CACA,qBAAA\",\"sourcesContent\":[\".Section {\\n  color: blue;\\n\\n  svg {\\n    height: 500px;\\n    width: 500px;\\n    border: 1px solid gray;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"xYdS0IxW8Xrsb30ui_UV\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Graph","data","d3Container","useRef","useEffect","current","update","d3","append","selectAll","enter","attr","d","i","style","text","exit","remove","className","width","height","ref","Section","styles","graphData","require","nodeAutoColorBy","nodeCanvasObject","node","ctx","globalScale","label","id","fontSize","font","bckgDimensions","measureText","map","n","fillStyle","fillRect","x","y","textAlign","textBaseline","color","fillText","__bckgDimensions","nodePointerAreaPaint","___CSS_LOADER_EXPORT___","push","module","locals"],"sourceRoot":""}