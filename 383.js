"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[383],{383:(e,n,t)=>{t.r(n),t.d(n,{Graph:()=>M,default:()=>V});var r=t(784),s=t(95),l=t(417),o=t(857),i=t(918),a=t(322),c=t(480),A=t(311),d=t(190),u=t(62),p=t.n(u),h=t(36),x=t.n(h),f=t(793),m=t.n(f),b=t(892),C=t.n(b),g=t(173),y=t.n(g),v=t(464),E=t.n(v),S=t(178),k={};k.styleTagTransform=E(),k.setAttributes=C(),k.insert=m().bind(null,"head"),k.domAPI=x(),k.insertStyleElement=y(),p()(S.Z,k);const w=S.Z&&S.Z.locals?S.Z.locals:void 0;function _(){return(_=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}const B=(0,r.forwardRef)((function({children:e,onChange:n,...t},i){const[a,c]=(0,s.W)(l.Cz);return(0,o.m)(c,n),r.createElement("div",{className:w.Editor},r.createElement("textarea",_({ref:i,value:e,onChange:a},t)))}));function M({data:e}){return r.createElement(d.Z,{graphData:e,width:400,height:400,nodeAutoColorBy:"group",nodeCanvasObject:(e,n,t)=>{const r=e.id,s=12/t;n.font=`${s}px Sans-Serif`;const l=[n.measureText(r).width,s].map((e=>e+.2*s));n.fillStyle="rgba(255, 255, 255, 0.8)",n.fillRect(e.x-l[0]/2,e.y-l[1]/2,...l),n.textAlign="center",n.textBaseline="middle",n.fillStyle=e.color,n.fillText(r,e.x,e.y),e.__bckgDimensions=l},nodePointerAreaPaint:(e,n,t)=>{t.fillStyle=n;const r=e.__bckgDimensions;r&&t.fillRect(e.x-r[0]/2,e.y-r[1]/2,...r)}})}function V(){const e=(0,r.useRef)(null),[n,t]=(0,r.useState)((()=>"Napoleon --\x3e Myriel\nMlle.Baptistine --\x3e Myriel\nMme.Hucheloup --\x3e Enjolras\n")),[s,l]=(0,i.p)((e=>e.pipe((0,c.w)((e=>(0,a.H)(400).pipe((0,A.h)(e)))))),n),o=(0,r.useMemo)((()=>{const{ids:e,links:n}=s.split("\n").map((e=>e.match(/^\s*(\S+)\s*-->\s*(\S+)\s*$/i))).filter(Boolean).reduce((({ids:e,links:n},[t,r,s])=>({ids:{...e,[r]:r,[s]:s},links:n.concat({source:r,target:s})})),{ids:{},links:[]});return{nodes:Object.keys(e).map((e=>({id:e}))),links:n}}),[s]);return(0,r.useEffect)((()=>{l(n)}),[n]),r.createElement("section",{className:w.Section},r.createElement("h2",null,"Graph"),r.createElement(M,{data:o}),r.createElement(B,{ref:e,onChange:t},n))}},178:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(272),s=t.n(r),l=t(609),o=t.n(l)()(s());o.push([e.id,".xYdS0IxW8Xrsb30ui_UV{color:blue}.xYdS0IxW8Xrsb30ui_UV svg{height:500px;width:500px;border:1px solid gray}.kVxH4p0dnv12MSmq9uny{display:flex;height:10vh;border:2px solid blue}.kVxH4p0dnv12MSmq9uny textarea{border:0;flex:1}","",{version:3,sources:["webpack://./src/containers/Graph.module.scss"],names:[],mappings:"AAAA,sBACE,UAAA,CAEA,0BACE,YAAA,CACA,WAAA,CACA,qBAAA,CAIJ,sBACE,YAAA,CACA,WAAA,CACA,qBAAA,CACA,+BACE,QAAA,CACA,MAAA",sourcesContent:[".Section {\n  color: blue;\n\n  svg {\n    height: 500px;\n    width: 500px;\n    border: 1px solid gray;\n  }\n}\n\n.Editor {\n  display: flex;\n  height: 10vh;\n  border: 2px solid blue;\n  textarea {\n    border: 0;\n    flex: 1;\n  }\n}\n"],sourceRoot:""}]),o.locals={Section:"xYdS0IxW8Xrsb30ui_UV",Editor:"kVxH4p0dnv12MSmq9uny"};const i=o}}]);
//# sourceMappingURL=383.js.map